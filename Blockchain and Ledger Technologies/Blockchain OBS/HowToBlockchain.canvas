{
	"nodes":[
		{"id":"45a986eb7349c98a","type":"text","text":"ethereum\nlayer 20\noracle tool\ndecentralized finance\n\n\nrepresentative money √® quando hai 10 oro e stampi cartamoneta per 10 oro, fiat money √® quando fai un po' il cazzo che ti pare e stampi roba sulla base della fiducia che ti danno e altre magnificenze.\n","x":-189,"y":-149,"width":289,"height":549},
		{"id":"0187f418b12b8a18","type":"text","text":"# Tracciabilit√†\n\nSe √® vero che ogni $\\BTC$ √® unico, cosa succede se ho $3\\BTC$ e ma voglio spenderne solo uno?\n\nIl punto √® che i coin non sono veramente dei coin. Il sistema ***UTXO*** (***Unspent Transaction Output***) intende l'output di una transazione come \"somma non ancora spesa\", piuttosto che come \"moneta\" aggiunta al tuo wallet.\n\nQuesto significa che il saldo del tuo wallet altro non √® che la somma degli output di una collezione di transazioni sparse in giro per la blockchain di Bitcoin che hanno in comune il fatto di poter essere cedute a qualcuno usando la private key associata al tuo wallet stesso.\n\nIn tutto questo, ogni output di ogni transazione √® detto \"UTXO\", e se (tornando all'esempio di prima) vuoi spendere un $\\BTC$ avendo nel wallet $3\\BTC$ ci sono tre scenari principali:\n\n- Il tuo wallet consta di diversi UTXO, tra cui uno da $1\\BTC$. Ho risolto (sto ignorando le fee);\n- Nel tuo wallet c'√® una miriade di UTXO di valore infimo. Il sistema ne \"aggrega\" fino a raggiungere la somma che serve e tramite la transazione li distrugge tutti, creando un nuovo UTXO da $1\\BTC$ utilizzabile dal destinatario;\n- Il tuo wallet consta di un solo UTXO da $3\\BTC$. Il sistema distrugge tale UTXO e ne crea due: uno da $1\\BTC$ per il destinatario ed uno da $1.99\\BTC$ per te (... ci stanno le fee). \n\nOra, manteniamoci nel caso facile in cui la gente si scambia sempre $1\\BTC$. √à chiaro che in questo caso √® immediato risalire la catena di transazioni che distruggono/creano i vari UTXO fino alla transazione che ha generato quel particolare $\\BTC$.\n\nUn po' meno ovvio √® se nel frattempo sono avvenute diverse operazioni di aggregazione e divisione. Resta comunque possibile (anche se pi√π difficile) risalire alla storia di ogni pezzo che compone quel particolare UTXO. Diciamo che un conto sono io che sono curioso di sapere la storia dei miei $\\BTC$ ed un altro conto √® l'FBI che cerca di ricostruire i giri di soldi di Silkroad.\n\nIl punto √® che per quanto possa essere oscurata da pratiche di ***coin mixing*** o frammentazione, la storia di un UTXO √® comunque scritta nella blockchain. Esistono SW come ***Chainalysis*** o ***CipherTrace*** in grado di semplificare molto le cose per gli addetti ai lavori.","x":2426,"y":-6550,"width":780,"height":895,"color":"4"},
		{"id":"c0bc01d1e65c717d","type":"text","text":"# Smart Contracts (SC)\n\nQuando si fa una transazione, il problema √® sempre lo stesso: io vorrei ricevere il pagamento prima di cedere il bene e l'acquirente vorrebbe essere sicuro di ricevere il bene dopo aver pagato. Questo problema si traduce spesso nella presenza di un intermediario (e.g. un notaio) al quale entrambi i membri dell'accordo delegano la propria fiducia.\n\nGli ***Smart Contracts*** (***SC***) servono ad eliminare l'intermediario e ad automatizzare i contratti, e.g. `Se Andrea versa 100 ETH a Mario, la propriet√† del token di Mario passa ad Andrea`. Questa roba √® garantita dal fatto che gli SC sono ***codici*** eseguiti direttamente sulla blockchain. Sono ***pubblici***, ***immutabili*** ed ***auto-eseguenti*** al verificarsi delle condizioni.\n\nQuesto rende la blockchain una sorta di *trusted worldwide virtual computer*, in cui posso\n\n- Creare ***asset*** secondari rispetto al ***coin*** principale, detti comunemente ***Token***;\n- Creare dei ***marketplace*** (detti ***Liquidity Pool***) per scambiare gli asset direttamente all'interno della blockchain, senza dover passare per intermediari esterni come Binance.\n\t- Da questi ***Decentralized Exchanges*** (***DEX***) nasce la ***Decentralized Finance*** (***DeFi***).\n\nIl costo computazionale di un'operazione su ***Ethereum*** (e.g. trasferimento di $\\ETH$, creazione di Token) viene quantificato in unit√† chiamate ***gas***. Esiste quindi un ***prezzo del gas*** legato al valore di $\\ETH$ rispetto al dollaro. Il prodotto tra il prezzo del gas e la quantit√† di gas richiesta dall'operazione che si vuole effettuare risulta nella ***gas fee*** (i.e. la fee) da pagare alla BC.","x":7026,"y":-4376,"width":780,"height":595,"color":"6"},
		{"id":"40d21f642132b8a5","type":"text","text":"# Liquidity Pool (LP)\n\nIn un CEX √® chiaro dove devo andare per la compravendita di asset. In un DEX la piattaforma centralizzata viene sostituita dai singoli utenti, che all'interno di una stessa BC possono mettere sul tavolo, ad esempio, $1000\\,\\ETH$ e $1000$ USDT (***Tether***) e proporsi come Exchange.\n\nUna ***Liquidity Pool*** (***LP***) √® un particolare tipo di Smart Contract che permette di fare proprio questo. Un utente che aggiunge fondi (i.e. coppie di token in modo proporzionale rispetto al loro valore attuale) alla LP √® detto ***Liquidity Provider***. Ci√≤ include ovviamente il creatore, ma anche tutti gli investitori che contribuiscono. Tutti ricevono una piccola percentuale sugli scambi che avvengono all'interno della LP, proporzionalmente alla quantit√† di ***LP Tokens*** in loro possesso (i.e. fanno le veci delle quote azionarie per la LP). Tutto ci√≤ √® regolato da un modello matematico chiamato ***Automated Market Maker*** (***AMM***).\n\nQuando creo la LP con un rapporto $1:1$ (e.g. metto $1000\\,\\ETH$ e $1000$ USDT) e qualcuno compra $100$ USDT, nella LP restano $1100\\,\\ETH$ e $900$ USDT. Questo per√≤ significa che il rapporto non √® pi√π $1:1$: USDT √® diventato pi√π forte di $\\ETH$. Il prossimo utente che vuole comprare $100$ USDT dovr√† pagarli $122\\,\\ETH$.\n\nOra, uno potrebbe chiedersi: ma se USDT √® l'equivalente del dollaro, come fa ad acquisire valore cos√¨ rapidamente? Ecco, se qualcuno vuole venderti $100$ USDT a $122\\,\\ETH$ √® sicuramente una truffa. Perch√©? L'USDT autentico √® un token ERC-20 associato ad una ed una sola LP originale (gestita da Tether Limited). Siccome per√≤ chiunque pu√≤ creare una LP ed un ERC-20 con un nome qualsiasi (anche duplicato), √® facile restare fregati. Poi magari questo fa un bel ***rug pull*** e gli finanziamo la vacanza ai Caraibi.\n\nOvviamente il modo di controllare se lo scambio √® uno scam esiste: confrontare l'indirizzo ufficiale di USDT (e.g. su piattaforme come Etherscan) con quello della LP.","x":7026,"y":-3486,"width":780,"height":705,"color":"4"},
		{"id":"420c6a87906609da","type":"text","text":"# Marketplaces\n\nCon le blockchain √® possibile quindi implementare degli ***asset*** digitali. Come in finanza, anche qui il valore di un asset √® proporzionale alla fiducia del mercato in esso. Ma come li scambio?\n\n- ***Centralized Exchange*** (***CEX***) - Funzionano come le tradizionali borse. Quando vuoi comprare o vendere parte un ordine (e.g. \"`Vendo 0.1 BTC a chi √® disposto a pagarlo 1000$`\") e aspetti che qualcuno dall'altra parte lo accetti;\n\t- L'insieme degli ordini costituisce l'***order book***;\n\t- I wallet sono di propriet√† del CEX (i.e. investire $1\\,\\BTC$ su ***Binance*** equivale a darlo alla piattaforma), il che costituisce un importante point of failure (i.e. se il CEX fallisce o viene hackerato perdi i soldi);\n\t- Spesso sono soggetti a regolamentazioni come ***Know Your Customer*** (***KYC***), i.e. sono costretto a fornire i miei dati reali alla piattaforma per investire;\n\t- Si portano dietro tutti i problemi dell'entit√† centralizzata (e.g. potere di ban di utenti);\n\t- Ne sono esempi ***Binance***, Coinbase e Kraken.\n- ***Decentralized Exchange*** (***DEX***) - All'interno di una BC che supporta gli SC, ogni utente in possesso di una coppia di token (e.g. $\\ETH$ e ***USDT***, affermatosi come l'equivalente digitale su Ethereum del ***dollaro***) pu√≤ depositarli in una LP diventando un ***Liquidity Provider***.\n\t- Anonimo, in quanto non c'√® alcuna politica KYC;\n\t- Il wallet √® tuo, nessuno pu√≤ bloccare i tuoi soldi o bloccare le transazioni;\n\t- Il rischio di ***scam*** √® discretamente alto (e.g. ***Front Running*** - Un bot vede che voglio fare una transazione, compra prima di me e rivende subito dopo, alzandomi il prezzo);\n\t- Ne sono esempi ***Uniswap*** su Ethereum e PancakeSwap su Binance Smart Chain.\n\nNe esistono poi altre tipologie, come ***NFT Marketplace*** (e.g. ***Open Sea***, che opera su Ethereum, Polygon e Solana) e Hybrid Exchange (una sorta di mix tra CEX e DEX).\n","x":5016,"y":-3486,"width":780,"height":705,"color":"4"},
		{"id":"2825d21211592300","type":"text","text":"# Byzantine Nodes ed Attacco del 51%\n\nIn un sistema del genere, √® ovviamente un problema se ci stanno dei ***byzantine nodes***.\n\nTuttavia, Bitcoin ha una discreta tolleranza. Ad esempio, non √® possibile per un miner inserire transazioni false ed indirizzare a se stessi i coin altrui. Questo perch√© per realizzare una transazione serve sempre la chiave privata del vecchio proprietario del coin. Non √® neanche possibile fare double spending, dato che ogni coin √® unico. N√© √® possibile modificare una transazione approvata, perch√© romperebbe tutti gli incastri successivi degli hash.\n\n... o meglio, se sono un singolo miner o un piccolo gruppo di miner che collabora posso fare poco. Se per√≤ raggruppo una discreta potenza computazionale (***hashrate***) posso iniziare a vincere spesso. A seconda di quanto ne ho possono succedere diversi scenari simpatici.\n\n- Se ne ho tanto (e.g. sono un governo o una banca) posso provare a ***DDOSsare*** il sistema.\n\t- ***Come?*** - Inserendo blocchi vuoti nella BC per aumentare il carico computazionale, *DDOSsando* direttamente i miner.\n\t- ***Perch√©?*** - Una banca potrebbe avere interesse a destabilizzare le criptovalute.\n\t- ***√à un problema?*** - $\\BTC$ √® abbastanza resistente, e non sembra sia mai successo.\n- Se ne ho ***pi√π della met√†*** posso fare un pagamento, ricevere quello che mi viene dato e poi ritirare il pagamento invalidando la vecchia chain con una fork (***Attacco del*** $51\\%$).\n\t- ***Come?*** - Avere pi√π della met√† dell'hashrate significa essere in grado di costruire un branch alternativo pi√π velocemente rispetto al restante $49\\%$ del sistema. Posso cos√¨ prima o poi (potenzialmente mi servono tanti blocchi) sovrascrivere il branch del resto del sistema (in cui ho speso $100\\BTC$) con il mio (in cui non l'ho fatto).\n\t- ***Perch√©?*** - Posso fare double spending: mando agli altri una transazione in cui spendo $100\\BTC$ nel blocco `A` che forma la catena `XXXA` per poi sovrascrivere con `XXXBC`. Particolarmente problematico se supero la catena dopo oltre $6$ blocchi (i.e. dopo che il sistema ha gi√† \"ratificato\" la transazione): posso di nuovo spendere i coin che qualcuno aveva gi√† accettato come pagamento (inviandomi magari la cocaina).\n\t- ***√à un problema?*** - Difficile ottenere il $51\\%$ dell'hashrate in Bitcoin. Forse √® pi√π fattibile con blockchain pi√π piccole.","x":4546,"y":-6550,"width":780,"height":895,"color":"4"},
		{"id":"66e789f3b5a0ec37","type":"text","text":"# Privacy\n\nBitcoin √® un sistema trasparente, i.e. le public key coinvolte nelle transazioni sono sempre in bella mostra sulla blockchain. Tuttavia, l'associazione tra le public key e l'identit√† della persona fisica dietro quel wallet non √® ovvia.\n\nQuindi Bitcoin √® anonimo? ... non proprio. Quando uso un ***Exchange*** per convertire i Bitcoin in ***moneta fiat*** (i.e. dollaro, euro, ...) la piattaforma tipicamente richiede una verifica dell'identit√† nota come ***Know Your Customer*** (***KYC***) nel rispetto delle normative anti-riciclaggio. Questo significa che nel momento in cui converto viene fatta l'associazione tra il nome e il wallet.\n\nQuesto pu√≤ innescare un processo in cui via via che la gente converte si crea un puzzle in cui diventa sempre pi√π chiaro a chi si estende il giro di soldi, e diventa pi√π facile riempire i vuoti.\n\nIn pratica, Bitcoin non √® molto anonimo (piuttosto √® ***pseudonimo***, nel senso che finch√© il gioco regge io sono mascherato dalla mia public key). Ovviamente ci sono tecniche per aumentare il livello di sicurezza di tutto questo.\n\n- Creo tanti wallet per diversificare le attivit√† che svolgo;\n- Al costo di una fee faccio fare le montagne russe ai miei $\\BTC$, dividendoli in milioni di parti e creando flussi di decine di milioni di transazioni (***coin mixing***). In mezzo a questa enorme quantit√† di flussi √® difficile risalire a chi ha fatto cosa. In pratica, √® ***Money Laundering***.\n\nQuesto meccanismo di pseudo-anonimato non proprio chiarissimo ha portato nel corso del tempo diverse persone ad essere scoperta con le mani nella marmellata (cfr. ***Silkroad***). \n\nIn generale, se non vuoi farti scoprire mentre traffichi cocaina ci sono blockchain create con in mente la privacy come focus principale (e.g. ***Monero***, ***Zcash***).","x":1386,"y":-6550,"width":780,"height":895,"color":"4"},
		{"id":"b6a85d26a6d762d8","type":"text","text":"# Mai fidarsi dei Nodi (Merkle Trees)\n\nLa blockchain √® un oggetto pesante (ad oggi $\\sim 1\\text{ Tb}$ di dati). I ***nodi completi*** la tengono tutta in memoria, ma un utente tiene il proprio wallet su smartphone si chiaramente non pu√≤. Allora si limita a salvarne una versione compatta, costruita nel seguente modo.\n\nUn blocco √® una sequenza di transazioni, ad ognuna delle quali √® associato un ***hash***. Prendo allora coppie contigue di hash e ne faccio un unico hash (i.e. ogni hash rappresenta due transazioni). Continuo cos√¨ fino a costruire un ***albero binario completo*** che prende il nome di ***merkle tree***. La sua radice rappresenta quindi tutte transazioni del blocco, e viene salvata nell'header di quest'ultimo. Un ***light client*** (nodo leggero) conserva solo l'header del blocco.\n\nUn light client potrebbe avere interesse a verificare se un suo pagamento √® stato o meno accettato dalla rete, i.e. se si trova in uno dei blocchi. Questo si traduce nel problema \"data una transazione, controlla che questa sia all'interno di un certo blocco\".\n\nOra, ci vorrebbe poco a chiedere ad un nodo completo \"scusa, questa transazione √® davvero nella blockchain?\". Non √® cos√¨ facile. Perch√©? Il punto √® che ***il light client in genere non si fida al 100% del nodo completo***, quindi preferisce verificare da s√©. Come? Con una ***Merkle Proof***!\n\nInvece di rispondere semplicemente \"s√¨\", il nodo completo deve dimostrarmelo. Quindi mi manda tutte le informazioni per permettermi di ricostruire la ***Merkle Root*** (... la radice del Merkle Tree salvata nell'header del blocco). Questo per√≤ viene fatto in modo intelligente: invece di mandarmi tutte le $O(N)$ transazioni del blocco, mi manda solo gli $O(\\log N)$ hash dei fratelli con i quali devo via via accoppiare il mio hash per arrivare alla radice.\n\nIn pratica, il Merkle Tree √® utile ogni volta che voglio ***verificare che un pezzetto di informazione sia parte di una \"big picture\"***, senza per√≤ scaricare interi Terabyte di file!","x":4546,"y":-5432,"width":780,"height":687,"color":"4"},
		{"id":"ef073ac9df95dbd1","type":"text","text":"# Ethereum Request for Comments - ERC\n\nGli Smart Contracts permettono di creare asset secondari scambiabili entro la blockchain stessa, detti ***Token***. Ora, questo significa che chiunque pu√≤ creare qualsiasi cosa in qualunque formato, ed √® proprio per mettere un freno a questa potenziale follia che a qualcuno √® venuto in mente di ***standardizzare*** i formati di questi Token.\n\nGli ***standard ERC*** garantiscono che i token siano compatibili con i vari strumenti di DeFi (e.g. wallet, exchange). Ci sono grossomodo due tipologie di Token su Ethereum:\n\n- ***ERC-20*** (***Fungible Tokens***) - Sono token che si comportano come una moneta secondaria rispetto ad $\\ETH$. Sono intercambiabili e divisibili come le valute fiat, e si possono creare particolari token (detti ***stablecoins***) ancorati ad esse (e.g. ***Tether*** (***USDT***) con il ***dollaro***);\n- ***ERC-721*** (***Non-Fungible Tokens***) - Ognuno di questi token √® unico e non divisibile. Li si pu√≤ associare ad un'opera d'arte o ad un oggetto da collezione.\n\nEsistono poi standard come ***ERC-1155***, che unifica i concetti di FT ed NFT per situazioni in cui servono asset diversi (e.g. un gioco ha sia una valuta sia una collezione di oggetti, skin, ...).\n\nNota che, esattamente come gli RFC su internet, non √® che questi devono per forza definire il protocollo del secolo. Anche piccole definizioni di funzioni possono costituire un ERC.\n\nAd esempio, ***ERC-165*** definisce delle funzioni di `interfaceID()` che permettono di verificare rapidamente il tipo di compatibilit√† del contratto senza doverlo analizzare per intero. Per verificare che uno SC sia compatibile con ERC-721, un altro SC pu√≤ chiamare la sua funzione `supportsInterface(0x80ac58cd)`, ricevendo come risposta `True` in caso affermativo.","x":7026,"y":-5432,"width":780,"height":687,"color":"4"},
		{"id":"bd58e931f55c72e9","type":"text","text":"# Rug Pull\n\nCreare una mia moneta alternativa in un DEX come Ethereum √® relativamente semplice.\n\n- Creo uno Smart Contract che rispetta lo standard ERC-20 che chiamo ***Truffa Coin*** (***TC***);\n- Creo uno Smart Contract che definisce una ***Liquidity Pool*** per scambiarlo con gli $\\ETH$. Imposto quindi un valore iniziale, i.e. metto nella Pool $1000\\, \\ETH$ e $1000$ TC. Questo significa dire \"un mio coin vale esattamente quanto un $\\ETH$\".\n\t- Nota che se qualcun altro crea in modo indipendente un altro token chiamato TC, non potr√† semplicemente venderlo alla LP in cambio di ETH. Gli scambi nella LP sono vincolati ai soli token originali.\n\nOra, se qualcuno compra $100$ TC al costo di $100\\,\\ETH$, nella LP restano $900$ TC e $1100\\,\\ETH$. Ma il rapporto √® sempre $1:1$, quindi ora $1\\, TC={1100\\over900}\\,\\ETH\\sim 1.22\\,\\ETH$. Il fatto che qualcuno abbia dato ***fiducia*** al mio TC acquistandolo lo ha fatto salire di valore, come atteso. Il prossimo che vuole $100$ TC dovr√† darmi $122\\,\\ETH$, e cos√¨ via. L'idea, ovviamente, √® che poi possano rivendermi quegli stessi TC ad un prezzo di mercato maggiore, guadagnando con la speculazione.\n\nPi√π fiducia dar√† la gente al TC pi√π $\\ETH$ mi ritrover√≤ sulla mia LP, finch√© ad un certo punto... la chiudo e sparisco con tutti i soldi. Diciamo che avevo investito $1000$, la gente aveva comprato un po', quindi incasso $4000$, e al netto di $100\\,\\ETH$ di fees ho guadagnato un sacco di $\\ETH$ in barba a chi mi ha ritenuto affidabile. Questa simpatica azione prende il nome di ***Rug Pull*** (i.e. tu metti i soldi sul tappeto e io te lo sfilo da sotto al naso).","x":7026,"y":-2346,"width":780,"height":590,"color":"4"},
		{"id":"8a6b328ab8c2b7cf","type":"text","text":"# Rug Pull - Uno Studio Comparativo\n\nIl paper analizza le manipolazioni di mercato di tipo Rug Pull confrontando due diverse BC:\n\n- ***Ethereum*** - Muove somme di denaro maggiori. Le gas fee tendono ad essere un po' pi√π alte per via della decentralizzazione: avendo migliaia di ***nodi validatori***, la latenza di rete fa s√¨ che venga aggiunto un nuovo blocco ogni $\\sim 13\\,s$, e il ***sync time*** (i.e. quanto bisogna aspettare perch√© tutti i nodi della rete concordino su una transazione) pu√≤ arrivare fino ad una settimana. Creare un token ERC-20 costa quindi $O(100\\$)$, arrivando quasi a $O(1000\\$)$ in periodi di congestione, sfavorendo di fatto gli scam a basso prezzo;\n- ***Binance Smart Chain*** (***BSC***) - Ha un'architettura pi√π snella, in cui vengono scelti solo $21$ nodi validatori alla volta, riducendo l'overhead computazionale complessivo. Ne deriva un minore tempo di blocco rispetto ad Ethereum ($\\sim3\\,s$), ma un maggiore sync time ($\\sim 3$ settimane). Da questo derivano costi di creazione molto minori, tipicamente $O(1\\$)$.\n\nPosto che puoi voler creare ERC-20 per svariati motivi, dai dati dello studio emerge che\n\n- Il $60\\%$ dei token ha una vita media inferiore alle $24$ ore. Chiamiamoli ***1-day tokens***;\n- Di questi, su Ethereum il $30\\%$ ha una ***LP associata***, mentre su BSC saliamo al $95\\%$. Questo √® facilmente spiegabile in virt√π di quanto detto prima: Ethereum costa di pi√π;\n- L'$1\\%$ degli account crea il $20\\%$ dei token. Chiamiamoli ***Token Spammers***.\n\t- La maggior parte di questi sono 1-day tokens;\n\t- Quello pi√π attivo su BSC ha creato $20\\text{k}$ token in un anno, il che significa che ha speso almeno $20\\text{k }\\$$. Perch√© abbia senso fare questa cosa, √® logico pensare ad un guadagno effettivo maggiore, il che ci porta a dedurre che c'√® un giro di soldi ancora maggiore.\n\nDa tutto questo si arriva a concludere che ***circa l'$80\\%$ delle LP contenenti 1-day tokens sono rug pulls***. Il success rate si aggira intorno al $62\\%$ su Ethereum e al $40\\%$ su BSC (forse per un meccanismo di tipo \"mi fido di pi√π se ci sono investimenti di grosse somme, chiss√†), con un average gain di $2500\\$$ su Ethereum e $33\\$$ su BSC (le fees complessive sono in media $380\\$$ e $9\\$$). ","x":7026,"y":-1620,"width":780,"height":759,"color":"4"},
		{"id":"b55611606993630d","type":"text","text":"\n\"Cos'√® emptygocks? O qualcosa di simile, credo sia correlato alle blockchain\"\n\n\"Probabilmente ti riferisci a **Mt. Gox**, uno dei primi e pi√π noti exchange di Bitcoin. Fondato nel 2010 e con sede a Tokyo, Mt. Gox gestiva oltre il 70% delle transazioni globali di Bitcoin al suo apice. Nel 2014, l'exchange ha dichiarato bancarotta dopo aver perso centinaia di migliaia di Bitcoin, presumibilmente a causa di un hack. Questo evento ha avuto un impatto significativo sulla fiducia nel mercato delle criptovalute.\"","x":5016,"y":-3880,"width":780,"height":198,"color":"#b48383"},
		{"id":"ca2750dfcadcc2cb","type":"text","text":"# How to Rug Pull\n\n- Creo il token e la LP associata, usando come coin comparativo una roba forte (e.g. $\\ETH$);\n- Aspetto l'allocco che compra. Questa fase in linea di principio √® ***zero-effort***: di norma, √® facile che arrivi qualcuno a comprare, un po' perch√© la gente c'ha la ***FOMO*** (\"e se questo coso diventa una roba che vale tantissimo?! Che fai, non compri?!\". S√¨, davvero), un po' perch√© in ogni caso ci stanno gli ***sniper bot***;\n\t- Al pi√π puoi fare ***advertising***, i.e. pubblicizzare questo nuovo incredibile token su Telegram, Discord o X (notoriamente dei bei posti). E la gente? Eh, la gente piazza scommesse sulle corse clandestine di cani, vuoi che non faccia un po' di sano ***gambling*** in criptovalute? Qualcuno magari pensa anche di riuscire a comprare subito ad un prezzo basso per poi rivendere quando l'hype generale avr√† fatto salire il prezzo. Probabilmente non sanno che uno sniper bot fa esattamente questo, ma ad una velocit√† di svariati ordini di grandezza superiore.\n- Quando il valore √® cresciuto e mi ritrovo con abbastanza $\\ETH$ nella Poll, disinvesto. Il guadagno sar√† dato dagli investimenti dei vari allocchi meno le fees per fare tutte queste transazioni (che su Ethereum sono comunque un po' di soldi, motivo per cui non √® proprio immediato fregare soldi al sistema);\n- In ogni caso, chi ha comprato ha buttato i soldi.\n\nEthereum ha circa $300\\text{k}$ token attivi, BSC essendo pi√π economica ne ha molti di pi√π.","x":8106,"y":-1522,"width":780,"height":563,"color":"4"},
		{"id":"313585cc249c3349","type":"text","text":"# Altre Considerazioni\n\n - Il paper stima che i rug pull abbiano generato circa **240 milioni di dollari di profitti** totali, con Ethereum che ha generato **150 milioni** e BSC **91 milioni**. Inoltre, il volume totale delle operazioni di rug pull √® stato di **772 milioni di dollari su Ethereum** e **243 milioni su BSC**.\n - Il paper identifica tre fasi principali:\n\t - **DeFi Summer 2020** ‚Äì Crescita iniziale dei rug pull su Ethereum.\n    - **Altcoin Season 2021** ‚Äì Rug pull esplodono su entrambe le blockchain a causa dell‚Äôhype sulle altcoin.\n    - **Superamento di Ethereum da parte di BSC** ‚Äì Da ottobre 2021, i rug pull su BSC diventano pi√π numerosi e pi√π redditizi di quelli su Ethereum.\n- Il paper distingue tra diversi tipi di sniper bot e quantifica il loro impatto:\n     - Su **BSC**, 130 indirizzi sospetti hanno scambiato in **235.777 liquidity pool**, rappresentando il **68,7% di tutti i rug pull**.\n    - Su **Ethereum**, gli sniper bot sono meno presenti, ma il **60% degli swap avviene nello stesso blocco in cui viene creata la LP**, segno che stanno leggendo la mempool.\n- Alcuni rug pull usano strategie di **wash trading** per gonfiare artificialmente il volume della LP e attirare investitori.\n- Il paper suggerisce alcune metriche per identificare i rug pull, come:\n    - Se il token dura meno di 24 ore, √® sospetto.\n    - Se un singolo wallet controlla tutta la liquidit√†, √® un rischio.\n    - Identificare chi ha gi√† eseguito rug pull in passato.\n    - Molti truffatori usano nomi di aziende famose o meme coin per attirare investitori.","x":7026,"y":-640,"width":780,"height":640,"color":"5"},
		{"id":"32adeffc3526776e","type":"text","text":"# Sniper Bots\n\nMa chi √® abbastanza matto da comprare un token sconosciuto?\n\nPur vero che alla gente piace fare gambling, un bot pu√≤ farlo in maniera molto pi√π efficiente. Se l'obiettivo √® comprare pi√π velocemente possibile per poi rivendere a prezzo maggiorato, un bot pu√≤ ad esempio analizzare la ***mempool*** e scoprire in anticipo quale token sta per essere creato sulla BC. In questo modo ha maggiori probabilit√† di essere il primo acquirente, per poi ovviamente rivendere dopo quello che arriva secondo.\n\nQuesti ***Sniper Bot*** sono tipicamente a pagamento, perch√© hanno un'ottima probabilit√† di portare guadagni. Maggiori di quello che costano? √à da capire, ma intanto l'idea funziona. Ci sono anche quelli gratuiti, ma hanno un altissimo tasso di fallimento (magari vengono messi in circolo proprio da quelli che usano gli sniper bot potenti, in modo da avere dei concorrenti dichiaratamente deboli il cui unico scopo √® perdere).\n\nOra, esistono casi di gente che ha implementato meccanismi in grado di fregare persino i bot. Ad esempio, un tizio una volta ha creato un token senza la primitiva di vendita. Cio√®, la gente poteva letteralmente solo acquistare. Visto che nessuno poteva rivendergli i suoi Truffa Coin, questo ha banalmente aspettato e dopo un po' ha disinvestito, guadagnando diversi milioni.\n\nA seguito di questo, i bot hanno implementato una fase preventiva: intanto provo ad acquistare la minima quantit√† possibile di token. Poi, se riesco a rivendere, faccio un acquisto serio.","x":8106,"y":-607,"width":780,"height":575,"color":"4"},
		{"id":"d006bd8a921bcf16","type":"text","text":"# **Perch√© mi compaiono token strani nel wallet?**\n\nSe hai mai aperto il tuo wallet e trovato un token che non hai mai comprato ‚Äì tipo `SuperMegaApeCoin69420` ‚Äì sappi che **non hai vinto nulla** e **nessuno ti sta regalando soldi**. Benvenuto nel mondo degli **airdrop scam**.\n\n---\n\n### **Come funziona la truffa?**\n\n1. **Gli scammer creano un token ERC-20**\n    \n    - Nome accattivante, magari simile a un token famoso (`SHIBA INU 2.0`, `NEW USDT`, `BONK v2`).\n    - Simbolo simile a uno vero (`USDTX`, `WBTCV`).\n    - Magari un supply assurdo (tipo 1 quadrilione di token).\n2. **Distribuiscono il token a migliaia di indirizzi**\n    \n    - I wallet su Ethereum sono pubblici, quindi possono mandare token a chiunque.\n    - Usano bot per distribuire il token a centinaia di migliaia di indirizzi casuali.\n    - Tu lo trovi nel wallet e pensi: _\"Wow, ho ricevuto un airdrop gratuito!\"_\n3. **Ti fanno cascare nella trappola**\n    \n    - Se provi a venderlo o trasferirlo, BAM! Scatta il vero scam.\n    - Alcuni di questi token sono progettati per **bloccare i tuoi fondi**: quando interagisci con il loro smart contract, dai il permesso di spendere tutto il tuo ETH.\n    - Altri ti mandano su un sito fake tipo `SuperMegaApeSwap.com` dove ti chiedono di connettere il wallet e autorizzare transazioni fasulle.\n\n---\n\n### **Come proteggersi?**\n\n‚úÖ **Non interagire mai con token che non hai comprato.**  \n‚úÖ **Non andare su siti a caso suggeriti da questi progetti.**  \n‚úÖ **Non approvare transazioni se non sai esattamente cosa stai facendo.**  \n‚úÖ **Se proprio vuoi liberartene, nascondili nel wallet o bruciali con un tool sicuro.**\n\nSe trovi un token sconosciuto nel wallet, **ignoralo e vai avanti con la tua vita**. Perch√© se qualcosa sembra troppo bello per essere vero‚Ä¶ beh, sai gi√† come finisce. üöÄ","x":7026,"y":-7620,"width":780,"height":946,"color":"#4545ff"},
		{"id":"4e3449fd770ccfb1","type":"text","text":"### **Le truffe pi√π famose nel mondo cripto (oltre ai Rug Pull e agli Airdrop Scam)**\n\nNel mondo delle criptovalute, la fantasia degli scammer √® infinita. Se pensavi che i rug pull e gli airdrop scam fossero le uniche fregature in circolazione, sappi che siamo solo all‚Äôinizio. Vediamo alcune delle truffe pi√π note e geniali (nel senso malvagio del termine).\n\n---\n\n### **1Ô∏è‚É£ Exit Scam ‚Äì La fuga col bottino**\n\n**Schema:** Crei un progetto, attiri investitori, raccogli fondi‚Ä¶ e sparisci.\n\n‚úÖ **Esempio famoso: PlusToken ($3 miliardi rubati)**\n\n- Prometteva rendimenti assurdi a chi depositava BTC ed ETH.\n- Milioni di persone hanno abboccato.\n- Gli sviluppatori hanno incassato e si sono volatilizzati, lasciando gli utenti con il nulla.\n\nüìå **Come evitarlo?**\n\n- Diffida da progetti che **promettono rendimenti fissi e sicuri** (in cripto, niente √® sicuro).\n- Se non c'√® un team pubblico e verificabile, scappa.\n\n---\n\n### **2Ô∏è‚É£ Ponzi e Schemi Piramidali**\n\n**Schema:** Ti promettono un guadagno ‚Äúgarantito‚Äù se porti dentro altre persone. I nuovi soldi pagano i vecchi investitori. Finch√© dura.\n\n‚úÖ **Esempio famoso: Bitconnect ($2 miliardi bruciati)**\n\n- \"Investi in Bitconnect, guadagni il 40% al mese!\"\n- Milioni di utenti dentro, il valore del token sale alle stelle.\n- Il sistema crolla quando non entrano pi√π nuovi soldi.\n- Il prezzo di BCC passa da 400$ a quasi **zero** in poche ore.\n\nüìå **Come evitarlo?**\n\n- Se il guadagno dipende pi√π dal reclutare gente che dall‚Äôeffettivo investimento, **√® una piramide**.\n- Se sembra troppo bello per essere vero‚Ä¶ lo √®.\n\n---\n\n### **3Ô∏è‚É£ Honeypot ‚Äì Il finto banchetto**\n\n**Schema:** Crei un token con un prezzo in crescita, la gente compra‚Ä¶ ma non pu√≤ vendere.\n\n‚úÖ **Come funziona?**\n\n- Uno smart contract modificato per impedire agli utenti di vendere.\n- Gli unici che possono incassare sono gli sviluppatori.\n- La gente compra pensando di fare il colpo della vita, ma il bottone \"Sell\" √® solo decorativo.\n\nüìå **Come evitarlo?**\n\n- Controlla se il contratto del token √® verificato e open-source.\n- Usa tool come Token Sniffer per vedere se il token ha limitazioni nelle vendite.\n\n---\n\n### **4Ô∏è‚É£ Pump & Dump ‚Äì Il gioco dello squalo**\n\n**Schema:** Un gruppo di persone si organizza per comprare un token, farne salire il prezzo e poi rivenderlo a chi arriva tardi.\n\n‚úÖ **Esempio famoso: Dogecoin (s√¨, anche DOGE)**\n\n- Ogni volta che Elon Musk twitta su DOGE, il prezzo esplode.\n- Chi sa prima compra a basso prezzo.\n- I ritardatari comprano in FOMO.\n- I primi vendono in cima al pump e il prezzo crolla.\n\nüìå **Come evitarlo?**\n\n- Se un token sale del **500% in poche ore**, probabilmente qualcuno sta facendo il dump.\n- Non inseguire il prezzo, fai ricerche prima di comprare.\n\n---\n\n### **5Ô∏è‚É£ Flash Loan Attack ‚Äì Il colpo al sistema**\n\n**Schema:** Prendi in prestito una cifra enorme senza collaterale, manipoli il prezzo di un token, incassi e ripaghi il prestito in un'unica transazione.\n\n‚úÖ **Esempio famoso: Il caso dYdX e bZx ($55 milioni persi)**\n\n- Un hacker ha preso un prestito flash di milioni di dollari.\n- Ha manipolato il prezzo di un asset su un DEX.\n- Ha scambiato il token manipolato per cripto reali.\n- Ha ripagato il prestito e ha incassato la differenza.\n\nüìå **Come evitarlo?**\n\n- Se usi piattaforme DeFi, assicurati che abbiano misure anti-flash loan.\n- Segui i progetti con audit di sicurezza solido.\n\n---\n\n### **6Ô∏è‚É£ Wallet Drainer ‚Äì Il furto in un click**\n\n**Schema:** Ti fanno firmare una transazione che, in realt√†, gli d√† accesso al tuo wallet.\n\n‚úÖ **Come funziona?**\n\n- Ti mandano un link a un sito fake che sembra un wallet reale.\n- Ti chiedono di collegare il wallet e approvare una transazione.\n- Se lo fai, gli dai accesso ai tuoi fondi e‚Ä¶ addio.\n\nüìå **Come evitarlo?**\n\n- Non cliccare su link sospetti o pubblicizzati a caso.\n- Usa wallet hardware per operazioni importanti.\n\n---\n\n### **Conclusione**\n\nIl mondo cripto √® una giungla piena di opportunit√†, ma anche di trappole. La regola d‚Äôoro? **Se non capisci come funziona qualcosa, non investirci un centesimo.**","x":9146,"y":-7620,"width":878,"height":2875,"color":"#4545ff"},
		{"id":"9a26a8530886011a","type":"text","text":"# HowToBlockchain - An Overview\n\nSe ho un file che rappresenta del cash digitale, potrei in linea di principio darlo a pi√π utenti (i.e. ***double spending***). Per ovviare a questo problema, si costruisce un sistema distribuito di server che in ogni istante posseggono una copia aggiornata del libro mastro (***ledger***) di tutte le transazioni, tipicamente implementato tramite una ***blockchain***. Concordare in ogni istante sull'intero storico di tutte le transazioni significa risolvere un problema di ***randomized consensus*** in un ***asynchronous system***.\n\nOgni ***coin*** √® in ogni istante di propriet√† di una singola persona (i.e. un singolo ***wallet***). A certificare questa cosa c'era inizialmente una Central Authority (e.g. una banca), dopodich√© si √® passati al seguente sistema decentralizzato (detto ***UTXO***, ***Unspent Transaction Output***):\n\n- La creazione di un coin avviene come output di una ***transazione*** sulla blockchain. Questa √® l'unica entit√† che salva le informazioni relative a \"chi possiede cosa\", dove il \"chi\" consta di un ***hash*** derivato dalla ***public key*** di un wallet, il cosa √® un ***amount***;\n\t- Segue che il wallet di per s√© non contiene nulla. Piuttosto, la sua ***private key*** serve a certificare che questo ha **potere di cedere i coin associati alla sua public key** sulla blockchain.\n- Quando viene ceduto, l'operazione prende in input il vecchio hash, la private key del vecchio proprietario e la public key del nuovo (oltre a cose tecniche tipo l'hash del blocco in cui rientra tale operazione, un nonce, ...) generando una transazione che certifica il nuovo proprietario;\n\t- L'amount in output in genere √® minore dell'input: la differenza costituisce la ***fee*** per il ***miner*** che fa approvare il proprio blocco con il randomized consensus della blockchain (e.g. PoW, PoS, ...).\n- Quando un server riceve una richiesta di transazione, questa viene inserita nella ***mempool*** (i.e. il set di tutte le transazioni in attesa) e divulgata in ***broadcast*** (o pi√π comunemente facendo ***gossiping***) a tutti gli altri server. I server inseriscono le transazioni della mempool in un ***blocco*** che cercano di far approvare tramite il randomized consensus all'intero sistema distribuito.\n\nQuesto sistema, adottato ad esempio in ***Bitcoin***, consente di tracciare l'intera storia di ogni singolo coin.\n\nEsistono sistemi alternativi, come ***Account-Based*** (e.g. ***Ethereum***). Qui i wallet hanno un saldo effettivo (che sostituisce il concetto di \"coin\" di per s√©), ed √® questo valore che viene aggiornato nelle transazioni. \n\nPi√π in generale, ogni blockchain ha un funzionamento unico. La grande differenza in questo senso √® data dalla presenza o meno degli ***Smart Contracts*** (i.e. la possibilit√† di eseguire codice direttamente sulla blockchain stessa), introdotti da Ethereum ed oggi largamente utilizzati.","x":480,"y":-3600,"width":860,"height":932,"color":"4"},
		{"id":"704b2682f6ccaf20","type":"text","text":"# Listone delle Blockchain\n\n- Algorand - fa transactions ogni pochi secondi, fee prederterminate e basse\n- Arbitrum - Gas fee\n- Avalanche - Gas fee\n- ***Bitcoin*** - Fee proporzionali alla dimensione in byte della transazione, posso scegliere fee pi√π alte per ottenere priorit√† entro la mempool\n\t- Litecoin, Dogecoin\n- Binance Smart Chain (BSC) - Supporta SC, gas fee\n- Cardano - \n- C-Chain - Gas fee\n- Cosmos - \n- ***Ethereum*** - Inizialmente nata PoW (2015) tramite un investimento iniziale di circa 18 milioni di dollari, introduce il concetto di ***Smart Contract***. Per risolvere problemi legati ad efficienza energetica ed eccessivo volume di transazioni crea nel 2020 una Blockchain PoS parallela (Beacon Chain). A seguito dell'evidente successo di quest'ultima, nel 2022 le due chain vengono unificate in un evento cosmico che prende il nome di \"***The Merge***\". Abbandonare il mining riduce i consumi energetici del sistema del 99.5%;\n- Hedera Hashgraph - In realt√† non √® una Blockchain. √à basata invece su una struttura dati a **grafo aciclico diretto (DAG)**, ed usa un algoritmo di consenso simile al PoS;\n- Monero - \n- Optimism\n- Polkadot - \n- Solana - \n- Tezos - \n- Tron - ","x":480,"y":-5319,"width":860,"height":819},
		{"id":"8689b6a4e7e83f20","type":"text","text":"# ERC-721 - NFT\n\nERC-721 introduce il concetto di ***unicit√†***. Gli NFT rappresentano arte digitale, oggetti interni ai videogiochi (e.g. armi, skin), biglietti, collezionabili e via dicendo. Proprio come con l'arte, il suo valore √® dato da quanto √® bramato dalla ggente. Le sue funzioni principali definiscono\n\n- La creazione dell'NFT, i.e. `mint(token)`;\n- La sua identit√†, i.e. `name()`, `symbol()` e `tokenURI(token)`. Quest'ultima in particolare contiene immagine, descrizione e metadati, solitamente salvati su un server esterno;\n\t- Questo rappresenta anche un importante ***point of failure*** per gli NFT: non vengono salvati davvero sulla blockchain. Qualsiasi problema al server esterno che custodisce l'asset e *puff*, hai perso tutto.\n- Il suo proprietario, i.e. `ownerOf(token)`;\n- Il suo trasferimento, con `transferFrom(from, to, token)`;\n- La sua distruzione, i.e. `burn(token)`.\n\nUn singolo ERC-721 pu√≤ in realt√† creare diverse copie dell'NFT, che nel complesso prendono il nome di ***collezione***. Un NFT √® dunque completamente identificato da due elementi:\n\n- L'indirizzo dello SC che lo ha creato (ed il nome, e.g. ***Bored Ape***);\n- Il suo numero seriale all'interno della collezione (***Token ID***, e.g. $152$).\n\nLa stragrande maggioranza degli NFT non √® legata ad alcun valore reale, √® piuttosto uno ***strumento speculativo*** fortemente volatile ed utilizzato per manipolazioni di mercato quali ***Rug Pull*** e ***Wash Trading***.","x":8106,"y":-5432,"width":780,"height":687,"color":"4"},
		{"id":"85fc8a05c99ff340","type":"text","text":"# NFT Wash Trading - Uno Studio\n\nL'idea alla base del Wash Trading √® molto semplice. Metto in vendita un NFT a $10$, il mio complice lo acquista e lo rivende a $100$, poi a $1000$. Il primo genio esterno al mio circolo chiuso di complici che pensa \"hey ma questo √® stato venduto a $1000$ e ora costa solo $100$, √® un affare!\" diventa il pollo spennato di turno.\n\nDopo aver raccolto i dati (i.e. eventi di tipo `transferFrom`), per ogni NFT costruisco un grafo in cui i nodi rappresentano gli account e gli archi i trasferimenti, etichettati con `timestamp` e `valore` della transazione. L'idea √® che ***strong connected components*** e ***loops*** siano dei buoni indicatori per la presenza di Wash Trading. Quindi cerco\n\n- ***Loop*** - Se trovo `A ‚Üí B ‚Üí A` √® possibile che `A` e `B` siano la stessa persona, o complici;\n- ***Common Founder*** - Un terzo account (esterno) fornisce l‚ÄôNFT ad `A` e `B`, i quali procedono a scambiarselo secondo le modalit√† descritte sopra;\n- ***Common Exit*** - Stessa cosa ma al contrario. Dopo il wash trading, i soldi finiti a `B` vengono inviati a un terzo account `C` (probabilmente il vero destinatario della truffa);\n- ***Self-loops*** - `A` pu√≤ vendere un NFT a s√© stesso (s√¨, si pu√≤ fare, paghi solo le fee).\n\nSe in questi cicli compaiono piattaforme CEX o LP allora vengono ignorati. Si assume che i CEX non siano coinvolti nel WT (sono loro richieste politiche di trasparenza che li metterebbero rapidamente nei guai), e le Pool usano NFT per rappresentare posizioni di liquidit√†.\n\nQuesto per√≤ non esclude la presenza degli ***NFC Marketplaces***, perch√© prima o poi questi NFT vanno rivenduti a qualcuno. Chi pi√π chi meno, ci finiscono tutti in mezzo (e.g. ***LooksRare*** presenta un $80\\%$ del volume di traffico legato al WT, mentre su OpenSea √® $<0.5\\%$).\n\nLooksRare era infestato di wash trader perch√© aveva un forte ***Token Reward System***: Se il marketplace aveva un volume di trading totale di $1000\\,\\ETH$ e tu ne generavi $100$, ottenevi il $10\\%$ dei reward. Quindi, gli scammer si scambiavano NFT tra loro per accumulare reward, facendo milioni, finch√© il sistema di incentivi non √® stato abbassato.\n\nIl modo migliore per gonfiare i volumi di trading era usare i ***flash loans***, i.e. prestiti che devi ripagare nello stesso blocco in cui vengono richiesti. Questo porta enormi vantaggi: le fees sono praticamente ***zero***, e se non ripaghi la transazione viene semplicemente annullata. \n\nQuindi? Prendevi diversi milioni in flash loan, ti scambiavi NFT tra amichetti per gonfiare il prezzo, incassavi i reward di LooksRare, e ripagavi il prestito senza perdere un centesimo.\nOvviamente questo aveva senso finch√© i reward erano alti, ora il gioco non vale la candela.","x":5796,"y":-2346,"width":780,"height":944,"color":"4"},
		{"id":"54b251eb5f580875","type":"text","text":"# Gas Fee\n\nSe in Bitcoin e BC simili il costo della fee √® semplicemente proporzionale alla lunghezza in byte della transazione, ***Ethereum*** e BC simili usano un meccanismo per le ***fee*** che dipende dalla ***potenza computazionale*** che verr√† utilizzata e dal livello di ***congestione*** della rete.\n\nLa fee √® quindi divisa in due parti:\n\n- ***Gas limit*** - Quante unit√† di gas servono per eseguire la transazione. Dipende dalla complessit√† computazionale dello SC, solitamente si aggira tra i $20\\text{k}$ e i $300\\text{k}$;\n- ***Gas price*** - Il prezzo della singola unit√† di gas, tipicamente espresso in Gwei. Esiste un prezzo minimo, ma pu√≤ essere scelto dall'utente per alzare la fee (i.e. acquisire priorit√†).\n\nLa ***gas fee*** √® quindi data dal prodotto di queste due grandezze. √à poi possibile aggiungere una ulteriore ed esplicita ***priority fee*** (anche detta ***tip***) per acquisire ancora pi√π priorit√†.\n\nLa ***base fee*** (i.e. il gas price minimo sotto al quale l'utente non pu√≤ scendere) √® determinata in automatico dal protocollo in base alla congestione della rete.\n\nIn sostanza, l'idea √® \"comprare\" la potenza computazionale dei nodi che eseguono lo SC.","x":5796,"y":-5432,"width":780,"height":687,"color":"4"},
		{"id":"af09c1c6572f2db1","type":"text","text":"# HowToCEX\n\nEsattamente come una ***borsa***. Ogni criptovaluta ivi quotata ha due elementi di interesse:\n\n- ***Candlesticks*** - Le candele rappresentano la differenza tra il prezzo di apertura e di chiusura. Sono rosse se il prezzo √® sceso, verdi se √® salito. Si possono poi aggiungere delle \"stanghette\" che rappresentano eventuali massimi o minimi nel corso del periodo intercorso tra apertura e chiusura (tipicamente un giorno, ma pu√≤ variare);\n- ***Order Book*** - Raccoglie tutti gli ordini del tipo \"`Voglio comprare 1 BTC a 1000$`\". Se per√≤ non c'√® nessuno disposto a vendere a quel prezzo (e.g. il pi√π basso √® `Voglio vendere 1 BTC a 2000$`), l'ordine resta in sospeso. ***Il punto di incontro tra domanda e offerta √® il prezzo***. Quando due ordini si incontrano, viene effettuata la transazione.\n\t- Un ordine in cui stabilisco io il prezzo √® detto ***limit order***. Se nessuno compra/vende a quella cifra, l'affare non si conclude e resta in sospeso a tempo indeterminato;\n\t- Un ordine in cui dico `Voglio comprare 1 BTC al miglior prezzo disponibile` √® detto ***market order***, e prender√† il `Voglio vendere 1 BTC a XXXX$` con `XXXX` pi√π basso possibile. Questo definir√† di conseguenza il prezzo di mercato di $\\BTC$.\n- \"Semplificare\" due ordini di tipo `Vendo 1 BTC a 1000$` e `Compro 1 BTC a 1000$` significa che i prossimi ordini pi√π vicini saranno ad esempio `Vendo 1 BTC a 1100$` e `Compro 1 BTC a 900$`. E quindi qual √® il nuovo prezzo di mercato?\n\t- Finch√© nessuno fa nulla, vale l'ultima \"semplificazione\": il prezzo resta `1000$`. Si nota per√≤ che l'order book ha un \"buco\". E quindi? I limit order restano in sospeso, a meno che qualcuno non faccia un market order: `Compro 1 BTC al miglior prezzo` significa pagarlo `1100$`, il che porta il prezzo di mercato a `1100$`.","x":4236,"y":-2346,"width":780,"height":637,"color":"4"},
		{"id":"cf185f8837214b5e","type":"text","text":"# Pump and Dump\n\nUna volta compreso come funziona un CEX, diventa chiaro il meccanismo di ***pump and dump***.\n\n- Compro qualcosa che non vale niente, e.g. una criptovaluta sconosciuta;\n- Convinco gli altri a comprare, facendo crescere il valore (***pump***). Questa √® una fase fortemente attiva, e include pubblicit√† su canali Telegram dedicati;\n\t- Gli admin del canale solitamente preannunciano un \"grande affare\" imminente, ma non dicono subito quale. L'idea √® che la crescita sia un'impennata di pochi secondi, al pi√π pochi minuti. Questo ha due motivazioni psicologiche principali:\n\t\t- Sfruttare al massimo la ***FOMO*** degli investitori, che avendo pochissimo tempo a disposizione agiranno prima ancora di pensare;\n\t\t- Minimizzare i comportamenti ***FUD*** (Fear, Uncertainty and Doubt), ripensamenti e commenti scettici (che in ogni caso vengono moderati in modo feroce).\n\t- Poi, visto che non c'√® limite alla speculazione: vuoi ricevere il nome della criptovaluta `1` secondo prima? Compra per la modica somma di `10$` una `Membership Premium`! Come dici? `3` secondi prima? A `50$` abbiamo il `Piano VIP`!\n\t\t- Ovviamente tutte queste cose sono scam, ci perderai comunque i soldi al $99\\%$.\n\t- Va anche molto di moda diffondere notizie false come `Truffa Coin comprato dal governo italiano!!` o messaggi motivazionali come `Oggi facciamo la storia.`;\n\t- Manco a dirlo, tutto questo √® chiaro conflitto di interesse (cfr. The Wolf of Wall Street), ma ovviamente non c'√® alcuna regolamentazione a riguardo.\n- A un certo punto vendo e ci guadagno un botto. Il prezzo inizia a scendere (***dump***), meno vertiginosamente rispetto alla salita. Gli altri si ritrovano il cerino in mano.","x":4236,"y":-1620,"width":780,"height":647,"color":"4"},
		{"id":"962f6c4b3c0be25d","type":"text","text":"# Pump and Dump Detection - [Uno studio](https://github.com/SystemsLab-Sapienza/pump-and-dump-dataset)\n\n√à facile individuare un pump quando √® gi√† esploso: basta guardare un grafico con una candela verde enorme ed un crollo altrettanto rapido subito dopo. L'obiettivo del paper √® quindi un altro: possiamo accorgerci di un pump mentre sta accadendo?\n\nL'idea √® sviluppare un modello di Machine Learning che monitora il mercato ed √® in grado di dire entro pochi secondi se c'√® o meno una pump in azione. Per fare ci√≤, il parametro principale √® il numero di ordini, ed in particolare la presenza di ***rush orders***, i.e. una raffica di ordini di acquisto in pochi secondi. Questi dati sono forniti direttamente dalle API del CEX.\n\nQuali? Un CEX come Binance quota tipicamente coin abbastanza stabili, ed √® pi√π controllato. Sono invece ideali CEX minori come ***Cryptopia*** e ***YoBit*** (il quale arriv√≤ perfino a pubblicare un pump su Twitter, nel 2018).\n\nSono stati quindi forniti gli stessi dati in pasto a diversi modelli:\n\n- ***Thresholds statiche*** - Pessimi risultati, ma c'era da aspettarselo, non √® neanche ML;\n- ***Random Forest*** - Il migliore, presenta un F1-Score del $94.5\\%$ ed √® in grado di rilevare un pump entro i primi $25$ secondi dal suo inizio;\n- ***AdaBoost*** - Meno efficace, restituisce molti falsi positivi (che tendono in ogni caso ad aumentare nei periodi di maggiore attivit√† sul mercato).\n\n","x":4236,"y":-878,"width":780,"height":558,"color":"4"},
		{"id":"d1bdc75d4a561ac5","type":"text","text":"# Difendersi dai Pump and Dump\n\nSe creo una blockchain e il mio coin viene preso di mira da un Pump and Dump, non sono proprio felicissimo, perch√© mina la mia credibilit√†. Da cui la domanda: come mi difendo?\n\nEcco... diciamo che non ti difendi. Per quanto sia una pratica immorale (non diciamo illegale perch√© banalmente non √® regolamentata), il problema √® che ***i CEX ci guadagnano***, perch√© implica la presenza di grossi volumi scambiati su di essi. Possono anche pubblicizzare delle policies moralmente impeccabili, ma all'atto pratico non faranno niente per evitarlo.\n\nSe crei un token su DEX, √® anzitutto la struttura stessa delle LP a proteggerti da questo tipo di cose: non essendoci un order book, acquistare significa istantaneamente far esplodere il prezzo, quindi dovresti trovare gente convinta a comprare a prezzi gi√† alti. Inoltre, gli SC ti permettono di avere un po' pi√π di gioco sulle funzioni di compravendita, tipo\n\n- Aumenti le fee sulle transazioni di account che comprano e vendono in pochi secondi;\n- Metti limiti di volume di acquisto per indirizzo;\n- Metti un cooldown al di sotto del quale non puoi rivendere.\n\nTutto questo per√≤ √® un disincentivo per i trader \"legittimi\". Troppe regole.","x":3066,"y":-1620,"width":780,"height":647,"color":"4"},
		{"id":"f25620bcdd9ec501","type":"text","text":"# Altre Considerazioni\n\n- **Distinzione tra Pump and Dump classico e Crowd Pump**\n    \n    - Il **Crowd Pump** (es. GameStop o Dogecoin su Reddit) non mira a truffare, ma nasce dalla massa che si coordina spontaneamente per alzare un prezzo.\n    - Nel **Crowd Pump** manca una leadership chiara, il pump √® pi√π graduale e spesso viene spinto da motivazioni ideologiche o meme virali.\n- **Tecniche di manipolazione avanzata**\n    \n    - Uso di immagini obfuscate per evitare che i bot leggano il nome della cripto in anticipo.\n    - Sistemi di affiliazione per incentivare la crescita dei canali Telegram.\n- **Dinamica temporale degli eventi**\n    \n    - I pump si organizzano spesso nel pomeriggio europeo, segno che i manipolatori potrebbero risiedere in questa area geografica.\n- **Caso studio di YoBit**\n    \n    - YoBit ha pubblicamente annunciato un pump su Twitter, scatenando reazioni negative nella community.\n- **Analisi sentimentale e crowd behavior**\n    \n    - Hanno analizzato Reddit per capire come Dogecoin √® esploso grazie a un semplice post: _\"Let‚Äôs make Dogecoin a thing. That‚Äôs it, that‚Äôs the post\"_.","x":4236,"y":-200,"width":780,"height":600,"color":"5"},
		{"id":"68b193c5004cfe21","type":"text","text":"# ERC-20 - Fungible Tokens (i.e. Coin Secondari)\n\nLo standard ERC-20 prevede nello SC delle funzioni per definire\n\n- L'identit√† del token, e.g. `name()`, `symbol()`;\n- La sua distribuzione, e.g. `totalSupply()` restituisce la quantit√† massima possibile di token sulla BC), `balanceOf()` restituisce il saldo di un certo indirizzo;\n- I suoi trasferimenti, e.g. `transfer()` che banalmente invia dei token ad un indirizzo, `transferFrom()` che specifica mittente e destinatario, previa approvazione data dalla funzione `approve()`;\n\nVersioni pi√π elaborate che estendono le funzionalit√† di ERC-20 possono includere operazioni di ***minting*** (i.e. creazione di nuovi token) e ***burning*** (i.e. distruzione), o di `pause`/`unpause` (i.e. blocco o sblocco tutte le transazioni relative ai token, potenzialmente per evitare il propagarsi di errori o per motivi di sicurezza). Tutto questo non rientra strettamente in questo standard, ma √® compatibile con esso.\n\nCi sono diversi motivi per cui potrei voler creare un ERC-20, ad esempio:\n\n- Implementare un sistema di pagamento interno ad un'***applicazione***;\n- Usarlo per gestire la ***governance***, un po' come avviene con le azioni in borsa: pi√π coin di governance di un determinato tipo possiedo, pi√π ho potere decisionale in quell'ambito;\n\t- Pi√π in generale si parla di ***rappresentanza di asset***. Questo tipo di token pu√≤ rappresentare il grado di possesso di un'immobile, di una societ√† o anche di un NFT!\n- Implementare uno ***stablecoin***, i.e. un coin il cui valore √® legato ad una ***moneta fiat***;\n- Per puro ***fine speculativo***, i.e. spero che la gente per qualche motivo riponga fiducia nel mio token facendolo crescere di valore...\n\t- ... per poi eventualmente disinvestire tutto e scappare con i soldi alle Maldive. Questo chiaramente sarebbe illegale in una finanza controllata, ma (guess what) la DeFi non √® affatto regolamentata. Vedi ***Rug Pull***.","x":7026,"y":-6491,"width":780,"height":836,"color":"4"},
		{"id":"dcba45b3aa4e8ffc","type":"text","text":"# Sottomultipli\n\nTutte le BC hanno un livello di granularit√† oltre il quale il coin non √® ulteriormente divisibile (... in prima approssimazione, vbb).\n\nPer ***Bitcoin*** √® il ***satoshi*** ($10^{-8}\\,\\BTC$), in Ethereum √® il ***wei*** ($10^{-18}\\,\\ETH$), spesso usato come ***Gwei*** ($10^9\\text{wei}=10^{-9}\\,\\ETH$, il wei √® troppo piccolo).","x":5886,"y":-5855,"width":600,"height":200,"color":"4"},
		{"id":"b0e15795235728f2","type":"text","text":"# Simultaneit√† e Fork\n\nNonostante sia probabilisticamente raro, cosa succede se due miners risolvono insieme?\n\nEscludiamo il caso in cui uno dei due √® pi√π veloce a comunicarlo e a farlo approvare, e diciamo che il server `A` convince alcuni miner ad allungare la blockchain con il proprio blocco e che `B` convince i restanti con il suo. D'altronde \"randomized consensus\" significa proprio questo: \"`√® talmente improbabile che qualcuno risolva che quando succede mi convinco che sia un caso isolato e accetto, assumendo implicitamente che tutti quanti accetteranno questo mio stesso blocco`\". Questa situazione rompe esattamente questa assunzione.\n\nQuesto porta in pratica alla creazione di una ***fork*** (i.e. ci sono due diversi ***branch***). Diciamo che tutti concordano inizialmente su `XYZ`. Sia `A` che `B` usano come hash del blocco precedente quello di `Z`. Se per√≤ ho approvato `XYZA`, il mio \"blocco precedente\" diventa `A`. Quando mi arriva `B` vedo subito l'incongruenza, e mi pongo il problema: gli altri stanno lavorando su una Blockchain diversa dalla mia? Chiedo allora agli altri gli hash dei loro ultimi blocchi, arrivando a ricostruire la presenza dei branch divergenti: `XYZA` ed `XYZB`. Come si ***riconcilia***?\n\nL'idea √® che una delle due catene si estender√† prima dell'altra, i.e. uno dei due gruppi di miner trover√† il blocco successivo prima degli altri (se i branch hanno la stessa lunghezza, continuo nel dubbio a lavorare sul primo che ho approvato: fino a prova contraria, quella √® la \"vera\" Blockchain). Se quelli che lavorano su `XYZA` trovano per primi `XYZAC`, con un processo simile a quello descritto in precedenza tutti quanti saranno in grado di ricostruire i branch divergenti, ma stavolta una delle due catene (sia essa la principale o l'\"alternativa\") risulter√† pi√π lunga. A questo punto, chi aveva quella pi√π corta far√† marcia indietro e si adeguer√† all'altro gruppo, ripristinando la consistenza globale. Ci√≤ si chiama ***regola della catena pi√π lunga***.\n\nPotrebbe ovviamente succedere di nuovo che due miner nei due blocchi risolvano insieme e che quindi generino nello stesso sottogruppo due chain `XXXAD` e `XXXBC`, ma l'idea √® che a livello probabilistico prima o poi uno dei due si renda conto dell'errore.\n\nLa *rule of thumb* √® che prima di approvare in via definitiva le transazioni si aspetta di impilare altri 6 blocchi. Questo riduce quasi del tutto (ma non annulla!) la possibilit√† di sbagliare (e.g. come caso isolato, nel 2013 a causa di un errore SW c'√® stata una fork di 24 blocchi).\n\nConsiderando che si aggiunge circa un blocco ogni circa $10$ minuti, prima di essere certi di un pagamento in Bitcoin bisogna aspettare all'incirca un'ora.","x":3456,"y":-6550,"width":780,"height":895,"color":"4"},
		{"id":"340205e6a9b86c6e","type":"text","text":"# Altre Considerazioni\n\n- Il paper stima che il wash trading abbia generato **$3.4 miliardi di volume artificiale**, pari a circa il **10% del volume totale degli NFT su Ethereum**.\n- Viene fatta una distinzione chiara tra due strategie di wash trading:\n    - **Sfruttare il sistema di reward dei marketplace** (pi√π efficace, 80% delle operazioni in profitto e un guadagno medio di **$1.055M per operazione su LooksRare**).\n    - **Gonfiare artificialmente il prezzo di un NFT e rivenderlo** (rischioso, con un successo del **50% e guadagni molto pi√π incerti**).\n    - Il paper evidenzia che la maggior parte delle operazioni dura **meno di 10 giorni** (**26% durano solo un giorno**, **52% durano meno di 10 giorni**). Questo conferma che √® una strategia a breve termine per massimizzare i guadagni velocemente.\n- Il **27% degli account coinvolti** nel wash trading √® responsabile di **quasi il 73% delle attivit√†**, indicando che si tratta di un gruppo ristretto di attori che eseguono queste operazioni ripetutamente.\n- Il wash trading sugli NFT avviene soprattutto con\n\t- **Round-trip trading (60%)** - Due account si scambiano lo stesso NFT pi√π volte.\n\t- **Schemi circolari (20%)** - Tre o pi√π account fanno girare l‚ÄôNFT tra loro.\n\t- **Self-trading (7.6%)** - Un singolo account vende NFT a se stesso.\n- Un'operazione specifica su LooksRare ha visto due account scambiarsi lo stesso NFT **otto volte in meno di un‚Äôora**, generando un volume di **5.733 ETH** e incassando **$1.1M in reward LOOKS** con un meccanismo di riduzione progressiva del prezzo.\n- Alcuni wash trader hanno sfruttato il sistema di \"evoluzione\" di alcune collezioni NFT (es. OG:Crystals), dove ogni vendita cambiava alcune propriet√† visibili dell‚ÄôNFT, rendendolo pi√π raro e aumentando il valore percepito.\n- Foundation **non ha casi di wash trading** perch√© ha **fee troppo alte (15%)**, rendendo la pratica economicamente sconveniente.\n- LooksRare √® il marketplace pi√π coinvolto nel wash trading, con **oltre l‚Äô84% del volume generato artificialmente**, mentre OpenSea ha un impatto molto minore (0.49%).","x":5796,"y":-1253,"width":780,"height":784,"color":"5"},
		{"id":"8ae9d77db5d92e7f","type":"text","text":"# From Distributed Systems","x":-1200,"y":-4148,"width":489,"height":140,"color":"6"},
		{"id":"246a476e166d1303","type":"text","text":"# [Materiale valido (Di Ciccio)](https://drive.google.com/drive/folders/1BUlKuJIxB6_HxisGTIoDneJFWF7Ihla3)\n\n# [DeFi Course](https://defi-learning.org/f22)","x":-2280,"y":-4225,"width":680,"height":294,"color":"1"},
		{"id":"f7ec2b633006125f","type":"text","text":"Esame 2025/26\n\n- homeworks verso la fine del corso con deadline;\n\t- mandatory, se li faccio entro deadline punti bonus (max 3)\n- group report (pdf) and presentation (slides in class)\n\t- mandatory, se si fa bene punti bonus fino a 15 punti (10 report + 5 presentazione)\n- Scritto\n","x":-2280,"y":-3840,"width":680,"height":320},
		{"id":"9f6e59f539e508ef","type":"text","text":"# lec 23/09\n\nel salvador usa btc come currency\n\npolymarket? prediction market based on blockchain\n\n\"we're approaching the alt season\" (??)\n\ncash ti da privacy, ma se sono in un sistema credito/debito devo sapere chi contrae il debito.\n\n(non c'√® pi√π l'oro come controvalore -> fractional reserve)\n\ncarta di credito -> no privacy e serve intermediario\n\nvogliamo best of both worlds: privacy e nessun intermediario dal mondo del cash e online payments, reversibility da credit card. per√≤ un intermediario fa anche da garante. e che se fa? non solo: non posso avere un file che rappresenta cash se non so di chi √®: il proprietario deve firmarlo (lack of anonimity). E poi double spending. vedi la nota a dx.\n\nperch√© non ci piaccono le central authorities? \n\n- censura, chi cede denaro e chi riceve devono concordare la stessa auth, transaction costs (pure BC eh...). vabb√® siamo anarchici dai\n\npure quello della banca si chiama ledger, ma √® centralized.\n\nora, centralized = stella, decentralized = stella di stelle, distributed = grafo \"omogeneo\" (appare come singolo sistema con molti nodi, contro la stella di stelle che appare come \"tanti responsabili\"). in questi ultimi due contesti un singolo nodo pu√≤ fare poco, rispetto a tutti gli altri insieme\n\nbitcoin √® cos√¨ mainstream che i coin delle altre blockchain si chiamano altcoin.\n\nmarket capitalization = \\#coins \\* valore_singolo_coin\n\nvisto l'hype della struttura dati blockchain, la gente mo vuole usarla per tutto. non √® sempre una buona idea.","x":-2280,"y":-3480,"width":680,"height":1020},
		{"id":"94b314070ee4465e","type":"text","text":"# idee presentazione/progetto\n\n- scrivere una roba di AI? Un'APP? non ho capito\n- creare un nostro token, magari su una test blockchain, cos√¨ non paghiamo\n- creare un NFT, stessa cosa di prima","x":-3400,"y":-3928,"width":646,"height":488},
		{"id":"34c1452fcb19ba4f","type":"text","text":"# 30/09\n\nsu ethereum ci sta wrapped ether perch√© √® pi√π facile fare operazioni nelle LP con i token che con il coin\n\ntrovare collision hash -> calcola hash per 2^{#bit dell'hash} elementi per trovare almeno due elementi che collidono. Se #=256 servono miliardi di miliardi di anni. Ma un QC?\n","x":-2280,"y":-1732,"width":680,"height":492},
		{"id":"ae9a8a2e0696f060","type":"text","text":"# Lec 24/09\n\nhash function (overview)\n\npost quantum computing √® un po' tosta seguirlo da met√† lezione in poi","x":-2280,"y":-2360,"width":680,"height":500},
		{"id":"e23ed681df359267","type":"text","text":"# Introduzione - Cash Digitale e Blockchain\n\nL'idea di realizzare un sistema di ***cash digitale*** affonda le sue radici verso la seconda met√† degli anni 80. Se le prime implementazioni si riducevano a tentativi di implementare modi sicuri per eseguire le transazioni, √® con DigiCash (1989) che compaiono i primi coin.\n\nLe moderne criptovalute si basano sulle ***blockchain***: ogni transazione viene inviata ad un server del sistema distribuito, il quale la inoltra agli altri. Dall'insieme delle transazioni in attesa (***mempool***) condiviso (idealmente) da tutti i server viene estratto mediante delle logiche variabili un sottoinsieme (che prende il nome di ***blocco***) da aggiungere alla blockchain. Un singolo server guadagna volta per volta il diritto di farsi portavoce di un blocco (e di ottenere di conseguenza un ***reward***) principalmente in due modi (ne esistono $N$, ovviamente):\n\n- Risolvendo un ***computational puzzle***, se la Blockchain stabilisce un meccanismo di consenso di tipo ***Proof-of-Work*** (***PoW***). In questo caso, i server vengono chiamati ***miner***;\n- \"Bloccando\" una certa quantit√† di criptovaluta, se si applica un meccanismo ***Proof-of-Stake*** (***PoS***). I server possono avere nomi (i.e. ruoli) variabili a seconda del protocollo.\n\nDeve essere semplice per gli altri server verificare che colui che propone il blocco sia legittimato a farlo (i.e. raggiungere il ***consenso*** su quel server). \n\nLa sequenza dei blocchi approvati costituisce il \"libro mastro\" (***ledger***) delle transazioni.\n\nEsistono ledger la cui implementazione non √® una Blockchain (e.g. IOTA).","x":2941,"y":-4376,"width":759,"height":595,"color":"6"},
		{"id":"87e0f46ba8de8691","type":"text","text":"# Cash Digitale & Blockchain (DS)\n\nL'idea di realizzare un sistema di ***cash digitale*** affonda le sue radici verso la seconda met√† degli anni 80. Se le prime implementazioni si riducevano a tentativi di implementare modi sicuri per eseguire le transazioni, √® con DigiCash (1989) che compaiono i primi coin.\n\nLe moderne criptovalute si basano sulle ***Blockchain*** (***BC***): ogni transazione viene inviata ad un server del sistema distribuito, il quale la inoltra agli altri. Dall'insieme delle transazioni in attesa (***mempool***) condiviso (idealmente) da tutti i server viene estratto mediante delle logiche variabili un sottoinsieme (che prende il nome di ***blocco***) da aggiungere alla BC. Un singolo server guadagna volta per volta il diritto di farsi portavoce di un blocco (e di ottenere di conseguenza un ***reward***) principalmente in due modi (ne esistono $N$, ovviamente):\n\n- Risolvendo un ***computational puzzle***, se la Blockchain stabilisce un meccanismo di consenso di tipo ***Proof-of-Work*** (***PoW***). In questo caso, i server vengono chiamati ***miner***;\n- \"Bloccando\" una certa quantit√† di criptovaluta, se si applica un meccanismo ***Proof-of-Stake*** (***PoS***). I server possono avere nomi (i.e. ruoli) variabili a seconda del protocollo;\n\nAltri protocolli sono possibili, e.g. ***Proof-of-Authority***, ***PoA***, in cui solo i nodi autorizzati possono proporre nuovi blocchi, ideale per BC ***private*** o ***permissioned***, i.e. basate su permessi specifici).\n\nDeve essere semplice per gli altri server verificare che colui che propone il blocco sia legittimato a farlo (i.e. raggiungere il ***consenso*** su quel server). La sequenza dei blocchi approvati costituisce il \"***libro mastro***\" (***ledger***) delle transazioni. Il concetto di ledger √® indipendente da quello di BC: esistono ledger la cui implementazione non √® una BC (e.g. IOTA).\n\nLe implementazioni recenti danno la possibilit√† di eseguire codice direttamente sulla BC. Questi pezzetti di SW vengono detti ***Chain Code*** o ***Smart Contracts*** (***SC***).","x":-9120,"y":-5207,"width":759,"height":693,"color":"6"},
		{"id":"bc974bfebe38a31d","type":"text","text":"# Creare Cash Digitale\n\nPochi accetterebbero come pagamento il carbone, ma molti accetterebbero i diamanti. Eppure hanno la stessa composizione chimica. Cosa cambia? I diamanti sono rari.\n\nIn generale, se si vuole creare una moneta digitale si deve tenere presente che il suo valore √® legato alla sua quantit√†. Deve quindi esserci in qualche modo \"difficile\" creare nuovo cash.\n\nUna soluzione a questo problema viene direttamente da una tecnica anti-spam per email che risale al 1992 (Dwok, Naor), basata su un principio molto semplice: per inviare una mail devo risolvere un ***computational puzzle*** legato in modo univoco a quella specifica mail, altrimenti questa non partir√†. Se risolvere il problema per una mail `A` non d√† alcun aiuto per la risoluzione del problema per la mail `B`, allora diventa computazionalmente difficile inviare grandi quantit√† di mail tutte insieme.\n\nQuesto stesso principio si applica in generale alle Blockchain ***PoW***: il cash viene creato ogni volta che un miner aggiunge un blocco alla blockchain, i.e. solo quando questo √® stato in grado di risolvere il computational puzzle. In particolare, la prima transazione di ogni blocco assegna nuovi coin all'indirizzo del miner che sta costruendo quel blocco. \n\n\"Ma cos√¨ continuo ad erogare all'infinito!\". Ni. In genere esiste un meccanismo di riduzione del reward. In ***Bitcoin***, ad esempio, il reward iniziale era di $50\\,\\BTC$ per blocco, ma il sistema stabilisce che ogni $210\\cdot10^3$ blocchi aggiunti alla Blockchain (in che si traduce in un intervallo di tempo di qualche anno) questo valore si dimezza. Questo consente di dire che in una prima \"era\" sono stati prodotti $21\\cdot10^3\\times50=10.5$ milioni di bitcoin, poi $\\times 25$ e via dicendo. Questa √® ovviamente una serie convergente: se le regole restano queste, il massimo numero di Bitcoin in circolo sar√† $21$ milioni. Ad oggi il reward √® di $3.125\\,\\BTC$. ","x":2426,"y":-3486,"width":780,"height":711,"color":"4"},
		{"id":"f73c6a4e69389480","type":"text","text":"# What Cash Digitale?\n\nL'entit√† \"analogica\" pi√π vicina ad una moneta digitale √® un assegno: erogo un biglietto con la mia firma che indica che il possessore pu√≤ restituirmelo per ottenere l'equivalente in dollari. Questo assume fondamentalmente due cose:\n\n- √à difficile replicare la mia firma (i.e. √® difficile falsificare l'assegno);\n\t- √à invece molto facile copiare un file. Se a tale file √® associato un \"assegno digitale\" (i.e. un coin) potrei duplicarlo e usarlo pi√π volte. Questo problema prende il nome di ***double spending***, e la sua risoluzione ha stuzzicato la curiosit√† di diversi esponenti del mondo della crittografia;\n- Chi accetta l'assegno si fida del fatto che a fronte di esso qualcuno mi pagher√†.\n\t- Questo √® equivalente a dire che qualcuno deve garantire che la transazione avvenga. Di norma questo compito spetta alle banche, che fungono da entit√† garante centrale. L'obiettivo di un DS, tuttavia, √® quello di evitare centralizzazioni. Deve quindi essere il DS stesso a fare da garante, obiettivo raggiungibile tramite il ***consenso*** da parte di tutti i server (***miner***) sull'approvazione delle transazioni presenti nei singoli ***blocchi*** della ***blockchain***, i.e. il \"libro mastro\" (***ledger***) di tutte le transazioni.","x":2426,"y":-5333,"width":780,"height":489,"color":"4"},
		{"id":"37be4a9f1c9a0573","type":"text","text":"# Hashing e Computational Puzzles\n\nDopo aver effettuato un pagamento (che quindi √® stato approvato dal sistema) e ricevuto un bene, un singolo miner prova a modificare la transazione in modo da recuperare i coin spesi. \n\nSi pu√≤ fare? In teoria s√¨, ma viene reso estremamente difficile dall'***hashing*** dei blocchi. Ogni blocco ha un valore di hash che dipende dalle transazioni al suo interno, ma anche dall'hash del blocco precedente. Modificare un blocco significa non solo modificare il suo hash, ma rendere inconsistenti tutti gli hash di tutti i blocchi successivi. Un attaccante dovrebbe quindi modificare una sequenza di hash, che √® notoriamente un problema difficile da risolvere ma di cui √® facile da verificare la soluzione (tuttavia non √® formalmente un problema $\\NPH$).\n\nIn virt√π della difficolt√† del problema, le Blockchain ***PoW*** sfruttano l'hashing per implementare il ***computational puzzle***: solo chi riesce a trovare il giusto hash per il blocco che vuole proporre pu√≤ aggiungerlo alla Blockchain.\n\nUn'idea di come funziona √® il meccanismo usato da ***Bitcoin***: per essere un blocco valido, l'hash in uscita deve avere i $k$ bit meno significativi uguali a $0$.\n\nOra, la funzione di hash (e.g. ***SHA-256*** per Bitcoin) prende in input le transazioni del blocco che voglio far approvare, l'hash del blocco precedente e (oltre ad altra roba che non stiamo a specificare in quanto non utile alla trattazione) un ***nonce***. In generale non ho idea di cosa esca fuori come hash di output, posso solo cambiare il nonce e guardare il risultato.\n\nLa probabilit√† di trovare proprio quello che voglio (i.e. i $k$ zeri finali) richiede un numero di lanci quantomeno esponenziale per diventare di ordine $1$, da cui la difficolt√† probabilistica del problema (si capisce meglio perch√© non √® classificabile come $\\NPH$). Una volta risolto il problema (i.e. trovato il nonce), √® facile per gli altri miner verificare la soluzione (basta far girare SHA-256 con i parametri indicati dal miner risolutore).","x":3456,"y":-3486,"width":780,"height":711,"color":"4"},
		{"id":"49e6eafb2938a493","type":"text","text":"# Creare Cash Digitale (DS)\n\nPochi accetterebbero come pagamento il carbone, ma molti accetterebbero i diamanti. Eppure hanno la stessa composizione chimica. Cosa cambia? I diamanti sono rari.\n\nIn generale, se si vuole creare una moneta digitale si deve tenere presente che il suo valore √® legato alla sua quantit√†. Deve quindi esserci in qualche modo \"difficile\" creare nuovo cash.\n\nUna soluzione a questo problema viene direttamente da una tecnica anti-spam per email che risale al 1992 (Dwok, Naor), basata su un principio molto semplice: per inviare una mail devo risolvere un ***computational puzzle*** legato in modo univoco a quella specifica mail, altrimenti questa non partir√†. Se risolvere il problema per una mail `A` non d√† alcun aiuto per la risoluzione del problema per la mail `B`, allora diventa computazionalmente difficile inviare grandi quantit√† di mail tutte insieme.\n\nQuesto stesso principio si applica in generale alle Blockchain ***PoW***: il cash viene creato ogni volta che un miner aggiunge un blocco alla blockchain, i.e. solo quando questo √® stato in grado di risolvere il computational puzzle. In particolare, la prima transazione di ogni blocco assegna nuovi coin all'indirizzo del miner che sta costruendo quel blocco. \n\n\"Ma cos√¨ continuo ad erogare all'infinito!\". Ni. In genere esiste un meccanismo di riduzione del reward. In ***Bitcoin***, ad esempio, il reward iniziale era di $50\\,\\BTC$ per blocco, ma il sistema stabilisce che ogni $210\\cdot10^3$ blocchi aggiunti alla Blockchain (in che si traduce in un intervallo di tempo di qualche anno) questo valore si dimezza. Questo consente di dire che in una prima \"era\" sono stati prodotti $21\\cdot10^3\\times50=10.5$ milioni di bitcoin, poi $\\times 25$ e via dicendo. Questa √® ovviamente una serie convergente: se le regole restano queste, il massimo numero di Bitcoin in circolo sar√† $21$ milioni. Ad oggi (2025) il reward √® di $3.125\\,\\BTC$. ","x":-10129,"y":-5207,"width":759,"height":693,"color":"4"},
		{"id":"e027f44c3e948552","type":"text","text":"# ... ma cos'√® il \"Cash Digitale\"? (DS)\n\nL'entit√† \"analogica\" pi√π vicina ad una moneta digitale √® un assegno: erogo un biglietto con la mia firma che indica che il possessore pu√≤ restituirmelo per ottenere l'equivalente in dollari. Questo assume fondamentalmente due cose:\n\n- √à difficile replicare la mia firma (i.e. √® difficile falsificare l'assegno);\n\t- √à invece molto facile copiare un file. Se a tale file √® associato un \"assegno digitale\" (i.e. un coin) potrei duplicarlo e usarlo pi√π volte. Questo problema prende il nome di ***double spending***, e la sua risoluzione ha stuzzicato la curiosit√† di diversi esponenti del mondo della crittografia.\n- Chi accetta l'assegno si fida del fatto che a fronte di esso qualcuno mi pagher√†.\n\t- Questo √® equivalente a dire che qualcuno deve garantire che la transazione avvenga. Di norma questo compito spetta alle banche, che fungono da entit√† garante centrale. L'obiettivo di un DS, tuttavia, √® quello di evitare centralizzazioni. Deve quindi essere il DS stesso a fare da garante, obiettivo raggiungibile tramite il ***consenso*** da parte di tutti i server (***miner***) sull'approvazione delle transazioni presenti nei singoli ***blocchi*** della BC;\n\t- L'assenza di un garante √® anche il motivo per cui qualcuno storce il naso sulla definizione di queste entit√† come \"currency\";\n\t- Dovrei anche fidarmi del fatto che, una volta effettuato, il pagamento non sia revocabile. Questo, di nuovo, porterebbe ad un double spending: dopo che mi arriva la merce ***off-chain*** (i.e. √® un evento non registrato dalla BC) \"torno indietro\" e revoco la transazione (o meglio, il blocco). Questo di fatto si traduce in un cosiddetto ***attacco del 51%***. Gli eventi off-chain sono fondamentali per questo tipo di attacco, tanto che la soluzione sarebbe semplicemente quella di registrare tutto (se revochi il pagamento revochi anche l'evento di consegna della merce, e.g. un ***token***).","x":-9120,"y":-6238,"width":759,"height":796,"color":"4"},
		{"id":"ad475259f1ef5f06","type":"text","text":"# Hashing & Computational Puzzles (DS)\n\nDopo aver effettuato un pagamento (che quindi √® stato approvato dal sistema) e ricevuto un bene, un singolo miner prova a modificare la transazione in modo da recuperare i coin spesi. \n\nSi pu√≤ fare? In teoria s√¨, ma viene reso estremamente difficile dall'***hashing*** dei blocchi. Ogni blocco ha un valore di hash che dipende dalle transazioni al suo interno, ma anche dall'hash del blocco precedente. Modificare un blocco significa non solo modificare il suo hash, ma rendere inconsistenti tutti gli hash di tutti i blocchi successivi. Un attaccante dovrebbe quindi modificare una sequenza di hash, che √® notoriamente un problema difficile da risolvere ma di cui √® facile da verificare la soluzione (tuttavia non √® formalmente un problema $\\NPH$).\n\nIn virt√π della difficolt√† del problema, le Blockchain ***PoW*** sfruttano l'hashing per implementare il ***computational puzzle***: solo chi riesce a trovare il giusto hash per il blocco che vuole proporre pu√≤ aggiungerlo alla Blockchain.\n\nUn'idea di come funziona √® il meccanismo usato da ***Bitcoin***: per essere un blocco valido, l'hash in uscita deve avere i $k$ bit meno significativi uguali a $0$.\n\nOra, la funzione di hash (e.g. ***SHA-256*** per Bitcoin) prende in input le transazioni del blocco che voglio far approvare, l'hash del blocco precedente e (oltre ad altra roba che non stiamo a specificare in quanto non utile alla trattazione) un ***nonce***. In generale non ho idea di cosa esca fuori come hash di output, posso solo cambiare il nonce e guardare il risultato.\n\nLa probabilit√† di trovare proprio quello che voglio (i.e. i $k$ zeri finali) richiede un numero di lanci quantomeno esponenziale per diventare di ordine $1$, da cui la difficolt√† probabilistica del problema (si capisce meglio perch√© non √® classificabile come $\\NPH$). Una volta risolto il problema (i.e. trovato il nonce), √® facile per gli altri miner verificare la soluzione (basta far girare SHA-256 con i parametri indicati dal miner risolutore).","x":-8111,"y":-5207,"width":759,"height":693,"color":"4"},
		{"id":"90bd914ffad09146","type":"text","text":"# Lezioni Di Ciccio 00 - Introduction\n\nla BC non √® un DB, non salva dati (tipo il saldo di un account) ma transazioni (poi ovviamente puoi farti un piccolo DB riassuntivo locale per fare rapidamente il punto della situazione senza rileggere ogni volta tutta la storia). Di per s√© √® una data structure, ma spesso si intende l'intero environment che la supporta.\n\nGli smart contracts sono anche detti Chain Code su BC pi√π rigorose.\n\nweb3, t-apps? middleware\n\ndice che \"cryptocurrency\" √® impreciso, perch√© \"currency\" richiede un'entit√† \"garante\" (puoi prendertela con lo stato, tipo)\n\nmattone base della BC: l'account `0xA` manda dei soldi all'account `0xB` tramite una transazione `0xT`. Cose da fare:\n\n- Assicurarsi che chi ordina la transazione sia autorizzato a farlo. Con la banca abbiamo username/password, OTP, token, ecc... Qua si fa con la firma digitale.\n\t- nota che con una banca avere quei metodi di accesso significa che ti sei prima fatto identificare come essere umano, mentre qui non serve\n\t- nota anche che questo implica che non √® detto che chi √® in possesso della chiave privata giusta sia anche l'owner dell'account di partenza, √® solo \"quello autorizzato a fare questa transazione\". pu√≤ ad esempio essere un account aziendale di cui diversi umani hanno la chiave privata\n- Externally Owned Account (EOA) - accounts owned by entities that are not on the chain (humans, bots, AI tools, dogs, ...). e l'alternativa? ovviamente gli Smart Contracts, che possono essere la sola entit√† a controllare un account (prima degli SC esistevano solo EOA)\n\t- anche la creazione di un account √® una transazione scritta sulla BC, quindi si pu√≤ vedere se un account √® EOA o generato da SC\n- le private keys sono in genere tenute in un PK manager nel wallet, e a volte vengono perse o rubate (alcuni fondi sono frozen)\n- per bitcoin tutta sta roba √® simile ad un assegno (ID, sender, recipient (causale tipo), amount, timestamp, signature), per ETH √® un po' diverso\n\nUn ledger √® una APPEND-ONLY LIST di transactions.... quasi, perch√© non posso avere duplicati -> ogni transaction √® unica, quantomeno per l'ID. A livello tecnico √® quindi un ***totally ordered*** set without complement, i.e. ogni transaction avviene sempre ***dopo*** un'altra e ***prima*** di un'altra. Ci sono eccezioni? S√¨, tipo Iota implementa un ordine parziale in cui rilassa un po' questa condizione, ma al momento non ci interessa. L'altra eccezione √® la mempool delle transactions non ancora scritte sulla BC, ma appunto, non sono ancora scritte sulla BC. Tutto questo per evitare il double spending.\n\naxe-infinity? permetteva ai giocatori di avere un account crypto sul gioco. tutti gli account convergevano all'account del gioco stesso, e c'era una rete  che faceva le conversioni (relay network, una dozzina di nodi). gli hanno fatto un 51% attack (rewriting history). ci stanno gli oracle che si assicurano che ci√≤ che avviene fuori dalla chain sia registrato anche sulla chain nel giusto ordine.\n\nora, visto che siamo in un sistema distribuito ogni nodo deve avere contezza dell'intero ledger. but nodes come and go, and ledger is enorme. Che si fa? \"come in passato i contabili non avevano un solo libro, ma molteplici, anche qui dividiamo\". Nascono i blocchi, che a loro volta vanno ordinati. Come? Con gli hash. E con i merkle tree (too soon). Ma a un nuovo nodo non do solo gli hash. Inizialmente dovevo dare tutta la BC, di recente ci sono sistemi (mechanical breakpoints) che ti permettono di scaricare solo gli ultimi blocchi. e comunque il blocco √® l'equivalente del tempo in una BC: per questo hanno lunghezza variabile ma bene o male rate di aggiunta alla BC costante (e.g. bitcoin \\sim 10 min, ETH \\sim 12s). Questo per quanto riguarda i nodi del DS, dopodich√© i wallet sono \"light client\" che salvano solo gli hash (o meglio, solo gli header).\n\nIn prima approssimazione assumiamo che ogni partecipante alla BC abbia tutta l'info della BC (escludiamo quindi wallet & co). Un nodo poco potente in un contesto PoW rischia di non vedere mai approvato il proprio blocco. Questo porta ad un folle generale aumento di potenza computazionale che culmina sempre pi√π spesso nel preferire la PoS.\n\n\"non importa se la transazione √® valida (o giusta, o vera) o meno, l'unica cosa che importa √® che la maggioranza dei nodi del DS concordi che √® stata eseguita\". Solo il DS decide cosa √® vero e cosa no (i.e. cosa avviene e cosa no). L'obiettivo della BC √® solo quello di essere un ledger, non di garantire CIA triad e simili.\n\npoi parla delle fork e della regola dei 6 blocchi (\\sim 1h su bitcoin) e di come non ci sia nessun sistema swift di turno a fare da garante per l'approvazione della tua transazione. le fees poi funzionano (anche) perch√© non essendoci un perfect distributed clock non posso usare il timestamp per sapere quali transactions hanno la precedenza nella mempool per essere inserite in un blocco (e dunque \"bribery\", come dice lui). Se ho capito bene dice pure che magari io non pago, ma magari un'altra transazione che prende come input il mio output ha fee altissime e al sistema conviene ficcare dentro anche la mia.\n\nprocede a spiegare la PoW come love affair - \"per conquistarmi devi metterci il cuore, provare e fallire\". Incredibile.\n\nnon confondere mempool (set delle transazioni in attesa in un certo nodo, che quindi cambia da nodo a nodo) con la mining pool (gruppo di miner che uniscono gli sforzi computazionali per risolvere pi√π rapidamente la PoW).\n\nGli SC sono pezzi di codice touring-complete. Questo viene poi tradotto in bytecode (una specie di assembly che per√≤ pu√≤ runnare su diverse piattaforme). Pi√π il codice √® complesso, pi√π sforzo computazionale richiede per essere eseguito pi√π richiede ***gas***\n\n- paga chi invoca la funzione in questione! ma chi riceve? lui dice \"the publisher\", ma di cosa? non dello SC, perch√© senn√≤ scriverebbero tutti codice super complesso per intascarsi fees giganti. ah ok il publisher intende il miner che ha fatto approvare quel blocco forse. o tutti? no sarebbe assurdo, √® zero scalabile sta cosa).\n- Stessa differenza che c'era tra mainframe e terminal (... cio√®? il mainframe offriva la cpu e il terminale era l'invoker?). Visto che tutto su una BC √® una transazione, lo √® anche l'invocazione di funzione (la chiamata avviene come payload della transazione). Ok, ma chi lo esegue? Preventivamente chi vuole proporre il blocco in cui √® contenuta, dopodich√© se non ci sono errori e quel blocco viene approvato lo SC verr√† eseguito dall'intero DS (ogni nodo deve eseguirlo per vederne le conseguenze e aggiornare di conseguenza la BC, il miner non condivide il risultato, ma il codice).\n\nOvviamente anche la creazione di un nuovo account √® una transaction: il sistema sceglie un target address inutilizzato e \"da ora in poi √® tuo\".\nHopefully chi sviluppa SC mette il codice su GitHub (sulla blockchain c'√® solo versione binary, illeggibile).\n\nOk ma quindi se sono un nuovo nodo non solo devo scaricarmi tutte le transazioni ma anche rieseguire tutte le funzioni degli SC? ...ni. Esistono dei breakpoints in cui la BC ti dice \"questo era lo stato condiviso al 100% (?) a questo punto, scarica/esegui solo da qui in poi\".\n\nTokens - li puoi pensare come bollini di fidelizzazione (\"se compri da noi ti diamo dei token che puoi utilizzare comprando ***di nuovo da noi***\").\n\nSegue distinzione public/private e permission(less). Slide 43 per lo schemino.\n\n\"law of the highest left force\", \"goals LMD?\". Creare N account non mi fa vincere il gioco: devo comunque risolvere il PoW.\n\n hashing nasce per riempire un array/lista/spazio nel modo pi√π uniforme possibile e con meno collisioni possibili (e.g. buckets, ...), poi si riscopre utile come fingerprint dei dati. E il cryptographic hash?","x":-13440,"y":-13120,"width":1207,"height":1834},
		{"id":"ac381904b8cd5952","type":"text","text":"# ... o meglio...\n\n- per bitcoin tutta sta roba √® simile ad un assegno (ID, sender, recipient (causale tipo), amount, timestamp, signature), per ETH √® un po' diverso","x":-8111,"y":-6238,"width":759,"height":796},
		{"id":"c4b18ebd4a0039c5","type":"text","text":"# progetti basati su BC (tokenizing things)\n\n- Steem\n- Open Music Initiative\n- Madhive\n- Votaz\n- Tradelens\n- Patientory\n- Propy\n- Algorand\n- Forestcoin","x":-3333,"y":-3241,"width":513,"height":358},
		{"id":"ac6a7ffa8b2cf17c","type":"text","text":"# Web 3.0\n\n1.0 - classico client server, ogni azione ricarica intera pagina\n\n2.0 - client pi√π potenti, pi√π calcoli in frontend, AJAX permette di non ricaricare tutto ma solo pezzi di pagina lasciando inalterata l'interfaccia\n\n3.0 - sembra la stessa cosa di 2.0 ma il backend ha account, BC, SC e via dicendo. ne riparla a fine corso.","x":-3400,"y":-2680,"width":646,"height":363},
		{"id":"fc29e282c8934010","type":"text","text":"# Cosa (non) √® una Blockchain\n\nNonostante con una BC si implementi un ledger, questa ***non √® un Database***: non c'√® scritto da nessuna parte una roba tipo `account X possiede Y token`, ma va piuttosto dedotto dalla sequenza delle transazioni salvate. Poi ovviamente √® saggio costruirsi un DB per tenere traccia dello stato del sistema senza dover rieseguire tutto, ma tale DB non ha niente a che fare con la BC.\n\nDi per s√© √® una ***struttura dati*** che somiglia ad una ***append-only list senza duplicati***. Per dirla in termini tecnici, √® un ***totally ordered set without complement***, dove\n\n- \"totally ordered\" si riferisce al fatto che ogni transazione avviene esattamente ***dopo*** un'altra e ***prima*** di un'altra, e tale ordine √® l'unico consentito;\n- \"set\" serve a non avere duplicati. Ogni transazione ha un ***ID*** univoco (esadecimale), tipicamente ottenuto come ***hash crittografico*** (e.g. `SHA-256`, `Keccak-256`) della transazione stessa;\n\t- Qui due assunzioni: l'address space √® enorme e la probabilit√† di collisione trascurabile.\n- \"without complement\" enfatizza il fatto che non ha senso considerare il complemento di questo set (i.e. le transazioni non gi√† presenti nella BC).\n\nOgni transazione ha un `ID mittente` e un `ID destinatario`, detti in generale `account`.\n\n- Possiamo avere ***Externally Owned Accounts*** (***EOA***, i.e. gestiti da entit√† esterne alla BC, come un essere umano) o `account` gestiti direttamente dagli ***Smart Contracts***;\n\t- Dal momento che la BC contiene solo transazioni, anche la creazione di un `account` √® una transazione, in particolare verso un `account ID` ( il cui address space √® sufficientemente astronomico da farci ignorare il timore di esaurirlo e.g. un intero a `160 bit`) non ancora utilizzato, che diventer√† quello del nuovo `account`. Di norma tale `ID` √® un ***hash della chiave pubblica*** associata a tale `account`.\n- Gli `account` non sono legati al concetto di \"propriet√†\", ma a quello di ***autorizzazione***. Dal momento che una transazione valida necessita della ***firma digitale*** del mittente per essere valida, solo chi possiede la ***chiave privata*** (***PK***) dell'`account` √® in grado di ordinarne una.\n\t- Segue che chi √® in possesso della PK non √® necessariamente il proprietario dell'`account`;\n\t- Quando ci si interfaccia alla BC lo si fa tramite il ***Wallet***, che altro non √® che un gestore di chiavi crittografiche. Spesso include un'interfaccia che mostra il saldo dell'`account` associato alla chiave che contiene. Questo dato viene ricavato ripercorrendo lo storico di tutte le transazioni che riguardano l'account, motivo per cui deve conoscere la BC. Questo rende il Wallet un ***nodo del sistema distribuito BC***.\n\nRiassumendo: creare un account significa creare una coppia di chiavi asimmetriche, dare quella privata ad un gestore (detto Wallet) e dare in pasto quella pubblica ad una funzione di hash crittografico per ricavare l'indirizzo unico che identifica univocamente quell'account.\n","x":-9120,"y":-4280,"width":759,"height":985,"color":"4"},
		{"id":"2ecba2716d7cab9c","type":"text","text":"# Chain Code - Smart Contracts\n\nA qualcuno √® venuta la geniale idea di aggiungere a tutto questo la possibilit√† di eseguire ***codice Touring-Complete***. Quale? Beh, dipende.\n\n- Anzitutto, il concetto di Smart Contract come \"pezzo di codice che esegue automaticamente le promesse delle parti al verificarsi di certe condizioni\" nasce nel 1994 a opera di un tizio che (ovviamente) era un po' informatico e un po' giurista. Al tempo era sostanzialmente impossibile realizzare questa roba, come spesso accade;\n- Bitcoin nel 2009 introduce un chain code non-Touring-Complete, ***Bitcoin Script***;\n\t- √à volutamente limitato per motivi di sicurezza (niente loop, ricorsione, ...), viene eseguito una tantum come conferma di validit√† della singola transazione;\n\t- Come quasi tutti i suoi successori, √® ***interpretato*** da un'apposita VM, la ***Bitcoin Virtual Machine***, che lo traduce in ***bytecode*** universale;\n- Ethereum nel 2015 introduce ***Solidity***, il primo chain code Touring-Complete. La logica √® simile a Bitcoin Script ma con un livello di astrazione in pi√π: c'√® un compilatore (`solc`) che permette al linguaggio di essere pi√π simile a `C` che ad `Assembly`. Anche qui abbiamo una Ethereum VM (***EVM***) che lo trasforma in bytecode.\n- Implementazioni successive possono implementare diversi linguaggi (anche noti, come `C` o `Rust`), ma hanno sempre lo stesso schema sottostante (i.e. la Virtual Machine e il bytecode).\n\nDetto questo, Bitcoin non voleva implementare un linguaggio Touring-Completo perch√© questo avrebbe (anche) voluto dire ammettere i ***loop infiniti***, con i quali chiunque potrebbe bloccare la verifica di una transazione, di fatto Dossando il nodo e potenzialmente bloccando l'intera BC. Questo problema viene risolto da Ethereum con il concetto di ***Gas Fee***: ogni operazione ha un costo in una valuta, detta `gas`. Eseguire codice, quindi, equivale ad un costo in `gas`. La `gas fee` si ottiene come quantit√† di `gas` utilizzata per eseguire il codice moltiplicato per il costo del `gas` (e.g. `ETH / gas_unit`). Pi√π codice vuoi fare eseguire, pi√π paghi valuta. Ma chi paga chi?\n\n- L'***invoker*** del codice (i.e. quello che immette la transazione contenente il codice) √® ovviamente quello che paga. Quanto? Insieme al codice si inviano due parametri: `gasLimit`, i.e. la massima quantit√† di `gas` che sono disposto a usare (e.g. non ho visto un loop infinito nel codice, quando raggiungo `gasLimit` si blocca tutto) e il suo prezzo unitario `gasPrice`;\n- Il nodo che fa da ***publisher*** del blocco in cui vuole inserire tale transazione √® quello che deve verificare preventivamente la validit√† del codice, e che quindi spende risorse computazionali. Viene da s√© che il pagamento va a lui (e non a tutti gli altri nodi, nonostante lo eseguano anche loro dopo l'approvazione: questo perch√© solo solo meri verificatori previsti dal protocollo).\n\nSe si raggiunge il `gasLimit`, la transazione viene annullata (i.e. lo stato della BC viene ripristinato a prima dell'esecuzione), ma l'invoker paga lo stesso la fee (\"giocare sporco non gli conviene\").","x":-8111,"y":-4280,"width":759,"height":984,"color":"4"},
		{"id":"2a9b9c170774f579","type":"text","text":"# Blockchains as Distributed Systems\n\nIl consenso (cfr. esame di ***Distributed Systems***, ***DS***) su cosa aggiungere alla BC non avviene sulle singole transazioni, ma su ***blocchi di transazioni***. Ci sono diversi buoni motivi per fare cos√¨:\n\n- Intanto il consenso sulle singole transazioni produrrebbe un delirio di messaggi. Se un blocco contiene $O(100)$ transazioni, l'***overhead di comunicazione*** si taglia di un fattore $O(10000)$;\n\t- Strettamente collegato a questo, sarebbe troppo facile per un nodo malevolo inviare un quantitativo immenso di transazioni e DoSsare l'intero sistema. Pu√≤ succedere anche con i blocchi, ma viene reso pi√π difficile.\n- L'***atomic commit*** passa dalla singola transazione ad un gruppo di transazioni, che quindi sono consistenti in blocco. Sappiamo (cfr. ***DS***) che anche solo questa √® una grande cosa;\n- Il ritmo di aggiunta dei nuovi blocchi scandisce il ***tempo*** della BC (e.g. $\\sim 10$ min per Bitcoin), utile tra le altre cose a ***regolare la velocit√† del mining*** e, di conseguenza, a determinare quanto velocemente viene creata nuova criptovaluta;\n\t- Ovviamente non √® un tempo assoluto (cfr. ***DS***).\n- Ogni blocco e identificato da un hash derivante dal suo contenuto. Questo permette, tramite i ***merkle trees***, di cercare le transazioni all'interno della BC in maniera molto pi√π efficiente.\n\nPer i nuovi nodi potrebbe essere pesante scaricare tutto da capo. I sistemi recenti prevedono l'uso dei ***mechanical breakpoints***, i.e. degli ***snapshot*** (cfr. ***DS***) della BC che permettono di scaricare solo il checkpoint pi√π recente e i blocchi successivi ad esso, risparmiando `terabyte` di download. Ci√≤ include il non essere costretti a rieseguire da capo tutti gli SC.\n\nIn ogni caso, non tutti i nodi devono avere necessariamente tutta la BC scaricata. I ***light nodes*** scaricano solo gli header dei blocchi, e se hanno bisogno di dettagli pi√π precisi interrogano i ***full nodes***, eventualmente richiedendo ***Merkle Proofs***. Questo accade in generale per risparmiare risorse. Altra cosa sono i ***light clients***, i.e. quei pezzi di SW che tramite API chiamano (spesso e volentieri) i light nodes per avere contezza dello stato della BC. Tutti i nodi possono partecipare al protocollo P2P del DS, i light clients ovviamente no (... perch√© non sono nodi). Spesso il concetto di gestore delle chiavi crittografiche e di light client convergono nella parola \"***Wallet***\" (pur essendo a rigore cose separate: potrei avere le chiavi salvate offline e usare le API tramite un mio codice).\n\nOra, se sono un nodo trovo ogni informazione sulla BC guardando solo alla mia versione: la mia verit√† √® quello che ho salvato io, non mi servono conferme altrui. Puzza di sistema centralizzato, almeno localmente. Il ledger per√≤ √® replicato ovunque, e chiunque pu√≤ partecipare al consenso: a livello tecnico √® sicuramente un DS. In pratica per√≤ i nodi si raggruppano in pool computazionali per avere pi√π probabilit√† di diventare proposer. Si passa da una \"democrazia diretta\" ad una \"indiretta\", in cui solo pochi nodi diventano proposer. Potremmo chiamarla \"decentralizzazione politica\". Il messaggio in pratica √® che il grado di distribuzione dipende da cosa guardi.","x":-10129,"y":-4279,"width":759,"height":985,"color":"4"},
		{"id":"7e38a9731b069017","type":"text","text":"# Bitcoin (2008)\n\nIl sistema Bitcoin consta di $O(10^3)$ miner sparsi per il mondo, e il gossiping avviene tra $O(10)$ primi vicini. Dal momento che non sono previsti Smart Contracts, esiste un unico coin: $\\BTC$.\n\nNasce con un primo blocco hard-coded contenente una sola transazione che ha fornito $50\\,\\BTC$ al suo fondatore, dopodich√© diversi server si sono proposti come miner ed √® iniziato il gioco. Il numero di transazioni per blocco √® aumentato con il tempo, e al prima transazione di ogni blocco costituisce il reward per il miner che risolve il problema computazionale, motivo per cui la storia di ogni $\\BTC$ √® tracciabile fino alla sua origine.\n\nQuando si esegue una transazione, √® consigliato (ma non obbligatorio) pagare una ***fee*** al miner che fa approvare il blocco. Questo perch√© di fatto √® un guadagno per il miner, il quale tender√† a dare priorit√† di approvazione alle transazioni in mempool con le fee pi√π alte.\n\nIl computational puzzle √® \"l'hash in uscita deve avere i $k$ bit meno significativi uguali a $0$\".  la funzione di hash (e.g. ***SHA-256*** per Bitcoin) prende in input le transazioni del blocco che voglio far approvare, l'hash del blocco precedente e (oltre ad altra roba che non stiamo a specificare in quanto non utile alla trattazione) un ***nonce***. In generale non ho idea di cosa esca fuori come hash di output, posso solo cambiare il nonce e guardare il risultato.\n\nLa probabilit√† di trovare proprio quello che voglio (i.e. i $k$ zeri finali) richiede un numero di lanci quantomeno esponenziale per diventare di ordine $1$, da cui la difficolt√† probabilistica del problema (si capisce meglio perch√© non √® classificabile come $\\NPH$). Una volta risolto il problema (i.e. trovato il nonce), √® facile per gli altri miner verificare la soluzione (basta far girare SHA-256 con i parametri indicati dal miner risolutore).","x":3456,"y":-5420,"width":780,"height":663,"color":"6"},
		{"id":"39f7a7e1bec4f9ea","type":"text","text":"# Lezioni Di Ciccio 02 - Intro a Bitcoin\n\nEssendo un progetto open source, in centinaia hanno clonato la repo, fatto qualche piccola modifica e creato ognuno una propria BC. Sono cloni di BTC e derivatives of BTC (?), e.g. Namecoin: posso pickare un solo username, chi se lo aggiudica? FCFS, con possibilit√† di contrattare se vengo dopo e voglio acquistare un nickname che mi piace (tipo comprare domini con parole chiave trendy e aspettare che qualche azienda neofita ti offra 10 volte tanto per averlo).\n\n\"a ledger is a collation of transactions\", i.e. keeping the order while collectin them\n\nla mempool viene gossippata in giro, magari non con il giusto ordine, ma l'idea √® che la stessa transazione venga affidata a diversi miner per la scrittura in un blocco. Validity by:\n\n- input account ha firmato la transazione e ha abbastanza soldi per completarla (non esiste il concetto di debito);\n- se il timestamp √® coerente. Cosa? Un timestamp in un DS? S√¨, ma con una sigma enorme. Al momento dell'accettazione, il timestamp del blocco in cui √® inserita la transazione deve essere compreso tra la mediana del timestamp degli ultimi 11 blocchi e il network-adjusted-time del DS + 2 ore. \n\nSia transaction che blocks girano con gossiping, dopo aver controllato la validit√†. perch√©?\n\n- non devo congestionare la rete con roba potenzialmente invalida;\n- perch√© senn√≤ ovviamente salvo informazioni potenzialmente false\n\nCome sappiamo in un DS non c'√® un global clock, non perch√© non saremmo capaci (esistono gli orologi atomici) ma perch√© non possiamo fidarci dei nodi.\n\njj furman? CAP theorem: la BC √® AP: la Consistency (i.e. every read receives either the most recent write or an error) se ne va a farsi benedire in caso di fork.\n- Qui per√≤ ho un'inconsistenza con gli appunti di DS, che dicono che la BC √® CP.\n- Comunque c'√® eventual consistency con alta probabilit√† (pseudo-guarantee, thumb rule dei 6 blocchi, su Ethereum sono $\\sim$ 12), questo perch√© il consenso sul singolo blocco richiede pi√π round, e nel frattempo possono esserci altri blocchi pubblicati (cfr. fork).\n\n√® quasi la stessa struttura dietro Git, che √® un (blocktree?)\n\ncambiare l'algoritmo di hashing su btc porta ad una hard fork in cui devo ri-hashare tutto\n\n- sha-128 o sha-256? ovviamente 256 √® pi√π sicuro, c'√® un numero esponenzialmente pi√π alto di possibilit√†, ma serve anche pi√π memoria (e  potenza computazionale?)\n\nnon pu√≤ succedere che due blocchi abbiano lo stesso hash, e non deve succedere (... perch√©??)\n\n\"the more the nodes, the safest the network\" ovviamente\n\nSi hasha solo l'header del blocco (perch√© ci sta il merkle tree?)\n\nnessuno decide quando comincia il nuovo round. certo, se mi aspetto un blocco ogni 10 minuti e passa un'ora potrei dedurre che sono offline.\n\nminare dei blocchi vuoti ogni tanto √® SANO per la BC. Perch√©? Lo √® rispetto a non mettere alcun blocco, perch√© continua a tenere traccia del tempo e consolida i blocchi precedenti. e poi \"vuoti\" si fa per dire, c'√® sempre la coinbase transaction con cui il miner si autoassegna il premio per il blocco\n\ni nodi sono invogliati a diffondere le informazioni perch√© ovviamente vengono premiati con la coinbase transaction. la fine di questo reward √® prevista verso il 2030, dopodich√© o ci saranno solo fees o ci sar√† una hard fork che cambia il protocollo\n\nper mantenere un blocco ogni 10 minuti si guarda il tempo medio di risoluzione degli ultimi 2000 blocchi, e si aggiusta di conseguenza\n\nL'idea per una qualsiasi BC stabile √® fare in modo che giocare pulito sia pi√π rewarding rispetto a provare a giocare sporco. PoW √® super expensive a livello di consumo elettrico.\n\nanonimity nel senso del gdpr significa non essere in grado di risalire ad un singolo individuo a partire dai dati.\n\ninkscape opensource per vedere i layer (ungroup). meglio non usare adobe appiccicando la tua firma perch√© qualcuno potrebbe disentanglarla e usarla al posto tuo. sarebbe davvero una pessima idea usare questo invece della crittografia a chiave pubblica-privata\n\nUn full node pu√≤ rifiutarsi di condividere con gli altri una transazione nella propria mempool. perch√©? tralasciando il caso in cui √® bizantino, ci sono diversi livelli in cui la transazione pu√≤ essere sbagliata, e il nodo deve fare un pre check su ognuno:\n\n- la TX dichiara di voler pagare 100BTC, ma il sender ne ha solo 99. Chiaramente rifiutata, ma magari esiste una transazione che aumenta i fondi di A che non √® stata ancora approvata, quindi potrebbe anche aver senso aspettare, in questo caso;\n\t- ma a na certa che aspetta scade??? esiste un TTL?\n\t- i.e. faccio riferimento ad una transazione che non esiste\n- la TX √® firmata male, in generale, i.e. se gli input non erano rivolti a me e provo a usarli lo stesso, se provo a dare in output pi√π della somma degli input, ...\n\nState Transition Networks???\n\n","x":-11960,"y":-13120,"width":1207,"height":1834},
		{"id":"6b1f1894ab710644","type":"text","text":"# intro al seminario\n\nBC for notorization? era tipo un seminario quell'anno\n\nSta di fatto che parla di web 3.0 (SC eseguiti in backend e ho frontend pulito)\n\nriassumendo: SC -> programmability; Transactions -> asset transfer & SC function execution; ledger on DS -> data robustness, traceability & consistency; Hash Signatures -> Authentication/non-repudiation. E tutto questo (da buon DS) in un setting in cui la fiducia tra nodi √® solo parziale.\n\nper√≤ il fatto che sia tutto tracciabile ci piace fino a un certo punto -> \"privity\" \"notorization\". \"we want BC to record everything... but not too much\". L'idea √® che s√¨, tu registri tutto, ma devi anche offuscare un po' e/o mostrare cose diverse ad entit√† diverse. Non ho capito se si chiama davvero CAKE o se √® un suo meme. InterPlanetary File System to implement it (na specie di torrent + tor + emule che implementa distributed hash tables DHT, i.e. prendi degli hash e fai tipo sfere del drago). Ciphertext-Policy e Attribute-Based Encryption meaning sono identificato dal mio ruolo e non dalla mia identit√† (tipo...). L'address √® content-based, quindi cambiare pezzi di file = cambiare l'hash (in questo caso l'address, cfr. Torrent su esame DS). in pratica con IPFS non possediamo i dati ma i link ai dati.\n\nvabb√® ma come si realizza? con un sistema public key critto con chiavi diverse diversi pezzi di dati. ","x":-14580,"y":-12457,"width":828,"height":508},
		{"id":"ab5bdfb7e15861eb","type":"text","text":"# Applicazioni delle Blockchain\n\nPerch√© una BC funzioni dobbiamo specificare\n\n- L'algoritmo di ***consenso*** utilizzato;\n- Le funzioni di ***hash***\n\nDi queste cose si parla in dettaglio nel caso di Bitcoin, ma poi si estendono a tutte le BC.\n\nTutte le BC hanno un'unit√† minima indivisibile (e.g. Satoshi per BTC, Wei per ETH, Lamport per Solana, ...). La logica √® che non devo assolutamente mai usare i float: gli errori di approssimazione distruggerebbero tutta la logica del sistema.","x":-9120,"y":-1844,"width":759,"height":984,"color":"6"},
		{"id":"da2c17bafb6ed3d4","type":"text","text":"# Axe-Infinity & 51%\n\naxe-infinity? permetteva ai giocatori di avere un account crypto sul gioco. tutti gli account convergevano all'account del gioco stesso, e c'era una rete  che faceva le conversioni (relay network, una dozzina di nodi). gli hanno fatto un 51% attack (rewriting history). ci stanno gli oracle che si assicurano che ci√≤ che avviene fuori dalla chain sia registrato anche sulla chain nel giusto ordine.","x":-12147,"y":-6238,"width":759,"height":796},
		{"id":"6d0a42604e6ee149","type":"text","text":"# Solidity\n\n","x":-6093,"y":-4277,"width":759,"height":984},
		{"id":"ce361acbec560316","type":"text","text":"# Ethereum","x":-6093,"y":-1844,"width":759,"height":984},
		{"id":"4ecf6e84c27eefab","type":"text","text":"# Bitcoin (2008)\n\nIl sistema Bitcoin consta di $O(10^3)$ miner sparsi per il mondo, e il gossiping avviene tra $O(10)$ primi vicini. Dal momento che non sono previsti Smart Contracts, esiste un unico coin: $\\BTC$.\n\nNasce con un primo blocco hard-coded contenente una sola transazione che ha fornito $50\\,\\BTC$ al suo fondatore, dopodich√© diversi server si sono proposti come miner ed √® iniziato il gioco.\nIl numero di transazioni per blocco √® aumentato con il tempo, e la prima transazione di ogni blocco costituisce il reward per il miner che risolve il problema computazionale, motivo per cui la storia di ogni $\\BTC$ √® tracciabile fino alla sua origine. Questa radice di ogni $\\BTC$ costituisce di fatto l'unico punto in cui vengono creati nuovi $\\BTC$, e il suo valore si dimezza ogni $210\\cdot10^3$ blocchi approvati. Non √® tuttavia l'unica fonte di guadagno per il miner. \n\nQuando si esegue una transazione, √® consigliato (ma non obbligatorio) pagare una ***fee*** al miner che fa approvare il blocco. Questo perch√© di fatto √® un guadagno per il miner, il quale tender√† a dare priorit√† di approvazione alle transazioni in mempool con le `fee` pi√π alte. Se ad oggi le `fee` sono solo parte del guadagno dei miner, a lungo termine la `coinbase transaction` diventer√† quasi nulla e le `fee` l'unico introito. La somma di `reward` e `fee` si assegna con la ***coinbase transaction***.\n\nL'approvazione dei blocchi  segue uno schema ***PoW*** : \"l'hash del blocco da fare approvare deve avere i $k$ bit meno significativi uguali a $0$\". La funzione di hash (`SHA-256`) prende in input le transazioni del blocco che voglio far approvare, l'hash del blocco precedente, un ***nonce*** e altra roba meno interessante. In generale non ho idea di cosa esca fuori come hash di output, posso solo cambiare il nonce e guardare il risultato. La probabilit√† di trovare proprio quello che voglio (i.e. i $k$ zeri finali) richiede un numero di lanci quantomeno esponenziale per diventare di ordine $1$, da cui la difficolt√† probabilistica del problema (a rigore non √® classificabile come $\\NPH$). Una volta risolto il problema (i.e. trovato il nonce), √® facile per gli altri miner verificare la soluzione (basta far girare `SHA-256` con i parametri indicati dal miner risolutore).\n\nI coin vengono gestiti come ***Unspent Transaction Outputs*** (***UTXO***), e il compito di smistarli tra i vari `account` viene delegato alle transazioni. In ogni istante, lo ***stato*** della BC √® una fotografia che descrive a quale `account` $a_i$ appartiene il `coin` (UTXO) $c_j$. Le transazioni sono quindi delle funzioni che fanno \"evolvere\" lo stato della BC, motivo per cui parliamo di ***State Transition Network***.\n\nL'intero sistema √® ***pseudonimo***: non compaiono informazioni personali, ma √® comunque possibile provare ad inferire informazioni su chi c'√® dietro al singolo `account` cercando i punti in cui i $\\BTC$ vengono convertiti in fiat currency (l'anonimity nel senso del GDPR significa non essere in grado di risalire ad un singolo individuo a partire dai dati, cosa che qui non accade).","x":-12136,"y":-1844,"width":759,"height":984,"color":"6"},
		{"id":"5e2bc06553931b5b","type":"text","text":"# SPACING","x":-14404,"y":-3529,"width":250,"height":235,"color":"5"},
		{"id":"abf6c2ebe99219a6","type":"text","text":"# Simultaneit√† e Fork\n\nNonostante sia probabilisticamente raro, cosa succede se due miners risolvono insieme?\n\nEscludiamo il caso in cui uno dei due √® pi√π veloce a comunicarlo e a farlo approvare, e diciamo che il server `A` convince alcuni miner ad allungare la blockchain con il proprio blocco e che `B` convince i restanti con il suo. D'altronde \"randomized consensus\" significa proprio questo: \"`√® talmente improbabile che qualcuno risolva che quando succede mi convinco che sia un caso isolato e accetto, assumendo implicitamente che tutti quanti accetteranno questo mio stesso blocco`\". Questa situazione rompe esattamente questa assunzione.\n\nQuesto porta in pratica alla creazione di una ***fork*** (i.e. ci sono due diversi ***branch***). Diciamo che tutti concordano inizialmente su `XYZ`. Sia `A` che `B` usano come hash del blocco precedente quello di `Z`. Se per√≤ ho approvato `XYZA`, il mio \"blocco precedente\" diventa `A`. Quando mi arriva `B` vedo subito l'incongruenza, e mi pongo il problema: gli altri stanno lavorando su una Blockchain diversa dalla mia? Chiedo allora agli altri gli hash dei loro ultimi blocchi, arrivando a ricostruire la presenza dei branch divergenti: `XYZA` ed `XYZB`. Come si ***riconcilia***?\n\nL'idea √® che una delle due catene si estender√† prima dell'altra, i.e. uno dei due gruppi di miner trover√† il blocco successivo prima degli altri (se i branch hanno la stessa lunghezza, continuo nel dubbio a lavorare sul primo che ho approvato: fino a prova contraria, quella √® la \"vera\" Blockchain). Se quelli che lavorano su `XYZA` trovano per primi `XYZAC`, con un processo simile a quello descritto in precedenza tutti quanti saranno in grado di ricostruire i branch divergenti, ma stavolta una delle due catene (sia essa la principale o l'\"alternativa\") risulter√† pi√π lunga. A questo punto, chi aveva quella pi√π corta far√† marcia indietro e si adeguer√† all'altro gruppo, ripristinando la consistenza globale. Ci√≤ si chiama ***regola della catena pi√π lunga***.\n\nPotrebbe ovviamente succedere di nuovo che due miner nei due blocchi risolvano insieme e che quindi generino nello stesso sottogruppo due chain `XXXAD` e `XXXBC`, ma l'idea √® che a livello probabilistico prima o poi uno dei due si renda conto dell'errore.\n\nLa *rule of thumb* √® che prima di approvare in via definitiva le transazioni si aspetta di impilare altri 6 blocchi. Questo riduce quasi del tutto (ma non annulla!) la possibilit√† di sbagliare (e.g. come caso isolato, nel 2013 a causa di un errore SW c'√® stata una fork di 24 blocchi).\n\nConsiderando che si aggiunge circa un blocco ogni circa $10$ minuti, prima di essere certi di un pagamento in Bitcoin bisogna aspettare all'incirca un'ora.","x":-15163,"y":-4277,"width":759,"height":984,"color":"4"},
		{"id":"1099ca7c37f012c1","type":"text","text":"# Lezioni Di Ciccio - 00 Introduction\n\n\nweb3, t-apps? middleware\n\n\nTokens - li puoi pensare come bollini di fidelizzazione (\"se compri da noi ti diamo dei token che puoi utilizzare comprando ***di nuovo da noi***\").\n\nSegue distinzione public/private e permission(less). Slide 43 per lo schemino.\n\n\"law of the highest left force\", \"goals LMD?\". \n\n hashing nasce per riempire un array/lista/spazio nel modo pi√π uniforme possibile e con meno collisioni possibili (e.g. buckets, ...), poi si riscopre utile come fingerprint dei dati. E il cryptographic hash?\n\nhyperparameters authorization?\nPoW tecnicamente non √® il meccanismo di consenso in s√©, d√† solo l'autorizzazione ad essere proposer.\n\n","x":-16287,"y":-5080,"width":640,"height":640},
		{"id":"7b9a2f1c22d3ed92","type":"text","text":"# ... cio√® quindi come GitHub!\n\nS√¨!! ... ni. Cio√®, le strutture dati sono simili ma non uguali.\n\n\n√® quasi la stessa struttura dietro Git, che √® un (blocktree?)","x":-15163,"y":-3059,"width":759,"height":980},
		{"id":"e2d623b8a580162c","type":"text","text":"# Soft and Hard (... forks)\n\ncambiare l'algoritmo di hashing su btc porta ad una hard fork in cui devo ri-hashare tutto","x":-14154,"y":-3059,"width":759,"height":980},
		{"id":"16618beda3da0513","type":"file","file":"(De)Centralization.png","x":-10129,"y":-2834,"width":759,"height":530},
		{"id":"1de20a395d19c219","type":"text","text":"# Problemi con il Consenso\n\nFork, Merge, Attacco del 51%\n\n","x":-14154,"y":-4038,"width":759,"height":503,"color":"6"},
		{"id":"8969a303981934a3","type":"text","text":"# Consensus\n\nOra che abbiamo i nostri nodi funzionanti e con la giusta struttura dati, possiamo specificare che nella stragrande maggioranza dei casi parliamo di ***Randomized Consensus***, quantomeno per le BC pubbliche. Questo significa che mi aspetto di avere un solo ***proposer*** alla volta, e che quando questa condizione non si verifica (e.g. in Bitcoin due miner risolvono la PoW in simultanea) pu√≤ crearsi una ***fork*** (i.e. entrambi convincono un proprio sottoinsieme del DS ad allungare la catena con il proprio blocco). Le fork normalmente si risolvono da sole tramite la ***longest chain rule***.\n\nDa qui in poi ne parliamo in relazione a Bitcoin\n\n\n\nCome sappiamo in un DS non c'√® un global clock, non perch√© non saremmo capaci (esistono gli orologi atomici) ma perch√© non possiamo fidarci dei nodi.\n\njj furman? CAP theorem: la BC √® AP: la Consistency (i.e. every read receives either the most recent write or an error) se ne va a farsi benedire in caso di fork.\n- Qui per√≤ ho un'inconsistenza con gli appunti di DS, che dicono che la BC √® CP.\n- Comunque c'√® eventual consistency con alta probabilit√† (pseudo-guarantee, thumb rule dei 6 blocchi, su Ethereum sono $\\sim$ 12), questo perch√© il consenso sul singolo blocco richiede pi√π round, e nel frattempo possono esserci altri blocchi pubblicati (cfr. fork).","x":-12136,"y":-4038,"width":759,"height":503,"color":"6"},
		{"id":"40e8d3d5bf4aedc3","type":"file","file":"BlockchainConsensusTypes.png","x":-12136,"y":-4605,"width":759,"height":325},
		{"id":"6174a42308c05ee3","type":"text","text":"# Byzantine Nodes ed Attacco del 51%\n\nIn un sistema del genere, √® ovviamente un problema se ci stanno dei ***byzantine nodes***.\n\nTuttavia, Bitcoin ha una discreta tolleranza. Ad esempio, non √® possibile per un miner inserire transazioni false ed indirizzare a se stessi i coin altrui. Questo perch√© per realizzare una transazione serve sempre la chiave privata del vecchio proprietario del coin. Non √® neanche possibile fare double spending, dato che ogni coin √® unico. N√© √® possibile modificare una transazione approvata, perch√© romperebbe tutti gli incastri successivi degli hash.\n\n... o meglio, se sono un singolo miner o un piccolo gruppo di miner che collabora posso fare poco. Se per√≤ raggruppo una discreta potenza computazionale (***hashrate***) posso iniziare a vincere spesso. A seconda di quanto ne ho possono succedere diversi scenari simpatici.\n\n- Se ne ho tanto (e.g. sono un governo o una banca) posso provare a ***DDOSsare*** il sistema.\n\t- ***Come?*** - Inserendo blocchi vuoti nella BC per aumentare il carico computazionale, *DDOSsando* direttamente i miner.\n\t- ***Perch√©?*** - Una banca potrebbe avere interesse a destabilizzare le criptovalute.\n\t- ***√à un problema?*** - $\\BTC$ √® abbastanza resistente, e non sembra sia mai successo.\n- Se ne ho ***pi√π della met√†*** posso fare un pagamento, ricevere quello che mi viene dato e poi ritirare il pagamento invalidando la vecchia chain con una fork (***Attacco del*** $51\\%$).\n\t- ***Come?*** - Avere pi√π della met√† dell'hashrate significa essere in grado di costruire un branch alternativo pi√π velocemente rispetto al restante $49\\%$ del sistema. Posso cos√¨ prima o poi (potenzialmente mi servono tanti blocchi) sovrascrivere il branch del resto del sistema (in cui ho speso $100\\BTC$) con il mio (in cui non l'ho fatto).\n\t- ***Perch√©?*** - Posso fare double spending: mando agli altri una transazione in cui spendo $100\\BTC$ nel blocco `A` che forma la catena `XXXA` per poi sovrascrivere con `XXXBC`. Particolarmente problematico se supero la catena dopo oltre $6$ blocchi (i.e. dopo che il sistema ha gi√† \"ratificato\" la transazione): posso di nuovo spendere i coin che qualcuno aveva gi√† accettato come pagamento (inviandomi magari la cocaina).\n\t- ***√à un problema?*** - Difficile ottenere il $51\\%$ dell'hashrate in Bitcoin. Forse √® pi√π fattibile con blockchain pi√π piccole.","x":-15163,"y":-6238,"width":780,"height":796,"color":"4"},
		{"id":"6c3ba07e993ec188","type":"text","text":"# Bitcoin Consensus\n\nPOW\n\nnessuno decide quando comincia il nuovo round. certo, se mi aspetto un blocco ogni 10 minuti e passa un'ora potrei dedurre che sono offline.\n\nminare dei blocchi vuoti ogni tanto √® SANO per la BC. Perch√©? Lo √® rispetto a non mettere alcun blocco, perch√© continua a tenere traccia del tempo e consolida i blocchi precedenti. e poi \"vuoti\" si fa per dire, c'√® sempre la coinbase transaction con cui il miner si autoassegna il premio per il blocco\n\ni nodi sono invogliati a diffondere le informazioni perch√© ovviamente vengono premiati con la coinbase transaction. la fine di questo reward √® prevista verso il 2030, dopodich√© o ci saranno solo fees o ci sar√† una hard fork che cambia il protocollo\n\nper mantenere un blocco ogni 10 minuti si guarda il tempo medio di risoluzione degli ultimi 2000 blocchi, e si aggiusta di conseguenza\n\nL'idea per una qualsiasi BC stabile √® fare in modo che giocare pulito sia pi√π rewarding rispetto a provare a giocare sporco. PoW √® super expensive a livello di consumo elettrico.\n\n- sha-128 o sha-256? ovviamente 256 √® pi√π sicuro, c'√® un numero esponenzialmente pi√π alto di possibilit√†, ma serve anche pi√π memoria (e  potenza computazionale?)","x":-12136,"y":-3059,"width":759,"height":980},
		{"id":"c4d82ff3e837b284","type":"text","text":"# ... e suoi derivati\n\n\nEssendo un progetto Open Source, in molti hanno clonato la repository di Bitcoin, fatto qualche piccola modifica e creato ognuno una propria BC (hard fork?).\n\nSono cloni di BTC e derivatives of BTC (?), e.g. Namecoin: posso pickare un solo username, chi se lo aggiudica? FCFS, con possibilit√† di contrattare se vengo dopo e voglio acquistare un nickname che mi piace (tipo comprare domini con parole chiave trendy e aspettare che qualche azienda neofita ti offra 10 volte tanto per averlo).","x":-13145,"y":-2334,"width":759,"height":255},
		{"id":"5ad864a1df83d423","type":"text","text":"# full node\n\n1. New transactions are broadcast to all nodes\n2. Each node collects new transactions into a block\n3. Each node works on finding a difficult proof-of-work for its block\n4. When a node finds a proof-of-work, it broadcasts the block to all nodes\n5. Nodes accept the block only if all transactions in it are valid and not\nalready spent\n6. Nodes express their acceptance of the block by working on creating the\nnext block in the chain, using the hash of the accepted block as the\nprevious hash","x":-13160,"y":-360,"width":619,"height":508},
		{"id":"8d91611c75cc89a0","type":"file","file":"Screenshot from 2025-10-26 17-11-20.png","x":-13250,"y":-984,"width":400,"height":248},
		{"id":"8f4367b6265dd303","type":"text","text":"\nnon pu√≤ succedere che due blocchi abbiano lo stesso hash, e non deve succedere (... perch√©??)\n\n\"the more the nodes, the safer the network\" ovviamente\n\nSi hasha solo l'header del blocco (perch√© ci sta il merkle tree?)","x":-13700,"y":-1740,"width":700,"height":500},
		{"id":"778bad592f5b6d45","type":"text","text":"# Lezioni DiCiccio 03 - Bitcoin\n\n##### State Transition Network\n\n\n\n\n##### Cosa sono i (bit)coin? (BITCOIN 2)\n\nI BTC sono un po' come le banconote: esattamente come non posso avere la banconota da 15, nel mio wallet ci sono UTXO che sono singole entit√† da 1, 2, 10 o quanto ti pare. Se devo pagare 15 e ho solo un pezzo da 20 non divido la banconota, ma pago e aspetto il resto. Same here.\n\n... o quasi. Qui posso fondere i coin. In che senso?\n\n- Devo pagare 6.5 e nel wallet ho un pezzo da 5 e uno da 2;\n- Genero una transazione mettendo insieme questi due pezzi, ma scrivendo sopra 6.5.\n- A questo punto la rete fa due cose:\n\t- trasforma quello strano UTXO 5+2 in un 6.5 e lo consegna all'indirizzo bersaglio;\n\t- genera un UTXO da 0.5 come resto e lo d√† all'account a cui va dato il resto (di norma √® lo stesso del sender, per ovvi motivi)\n\nThe STATE represents to every account which UTXO they have.\n\nin tutto questo una transazione pu√≤ essere fatta DA 1, ..., N account A 1, ..., N account. Posso fare quel simpatico raggruppamento di cui sopra anche prendendo UTXO da account diversi e indirizzando a diversi account diverse cifre.\n\n# Come si usano i coin?\n\nUna transazione ha tre elementi:\n\n- `input` - una serie di N sorgenti dalle quali prendo i fondi. Vengono scritte come `ID_transazione(indice_output_transazione)[valore]` (perch√© ogni transazione, come detto, pu√≤ avere N output);\n\t- √® sufficiente che chi comanda questa transazione sia in grado di firmare tutti gli input\n- `output` - una serie di M indirizzi ai quali cedo BTC nella forma `address[value]`. (Esistono nomi speciali per il campo `address`, tipo `CDC` che indica me stesso???);\n- `ID_transazione` - Autoesplicativo\n\nLa fee della transazione √® automaticamente calcolata come somma input - somma output. Questo vuol dire che il sistema non ci d√† il resto in automatico, ma ce lo dobbiamo auto-assegnare noi. Ci√≤ che avanza diventa la fee.\n\n- La coinbase transaction ha come source un indirizzo speciale, target il miner e valore il reward + la tx fee (per il miner??? cio√® doppio reward??)","x":-15361,"y":-1486,"width":1207,"height":1834},
		{"id":"6bbb08f8cb881a51","type":"text","text":"# Validity\n\nCome e quando verificare che una TX sia valida non √® un problema da sottovalutare. Ovviamente\n\n- Chi ordina la TX deve essere in grado di firmare ciascuno degli input da cui attinge;\n- Deve anche avere abbastanza soldi per completarla (non esiste il concetto di debito). Questo in parte √® ovvio, se pensiamo al fatto che la TX non fa altro che fondere i coin di input per produrre quelli di output, e che √® un \"gioco a somma zero\" (o meglio, un \"gioco a somma `fee`\", visto che `fee` = `INPUT` - `OUTPUT`). Il concetto di debito equivarrebbe a creare coin dal nulla;\n- Il `TIMESTAMP` deve essere coerente. Cosa? Un `timestamp` in un DS? S√¨, ma con una tolleranza enorme: al momento dell'accettazione, il `TIMESTAMP` del blocco in cui √® inserita la TX deve essere compreso tra la mediana del `TIMESTAMP` degli ultimi 11 blocchi e il ***network-adjusted-time*** (una sorta di stima del real clock basata sui tempi di tutti i nodi della rete) del DS + 2 ore.\n\nSia le TX che i blocchi vengono condivisi tra i vari nodi tramite gossiping, ma solo dopo averne controllato la validity. Questo perch√©\n\n- se non controllo prima del gossiping potrei finire per congestionare la rete con informazioni  potenzialmente non valide;\n- anche se avessi banda infinita, rischierei di salvare informazioni false.\n\nRiassumendo: prima di condividere una qualsiasi informazione devo esserne sicuro (che poi sarebbe una regola di vita abbastanza generale, vabb√®).","x":-12136,"y":720,"width":759,"height":565,"color":"4"},
		{"id":"60294113d6fcd78e","type":"text","text":"# 03 Bitcoin 3 (2023-10-17)","x":-8656,"y":-178,"width":1304,"height":1327,"color":"1"},
		{"id":"b1af0172cb6c2dd5","type":"text","text":"# Task 1 - Vanity Address Generation\n\nGeneri coppie pubblica-privata a caso finch√© l'hash della pubblica (Bitcoin address) non inizia con quello che vuoi tu. SW per fare questa roba: [Vanitygen++](https://github.com/10gic/vanitygen-plusplus). `git clone`, `make all` e invocazione come `./vanitygen++ -v PREFISSO`. Seguono risultati.\n\n- `1A` - `1Aubjp5CamZprJrV7S4qYWDqj5LgrgKAcz` con chiave pubblica `043e37db8bf3d0fa6f69bb36ce8a168b0d89905552ac64555e30e612ee79d2e975a291330978ca96440f7d8b1298bf72726f462dc2183b6a5d5cecdaaf88b0e93b`;\n- `1An` - `1AnEQ6esPwghtCYwRdJ1SieMozk7kbYYxs` con chiave pubblica `04c3fcfa45379098501646f69f5a4e658e4879dc4a1e39aa835d0f9e85e025032662cfac9d2e2c98f0c182b99bdb55c6855e096505bafbcb83dcb8bcaa90de3534`;\n- `1And` - `1AndMm6QCCyCVtvMpqJvh7z1f47Q8AGM8S` con chiave pubblica `04c0aeaef2820ddda5dce77bbe4d8aa0a3ee40ee8b3c789b5012732d93864b8ffd06f2834afe01ab21e55e5820758fc8fefea86e2f9cf719346d8914f48efae838`;\n- `1Andr` - `1AndrBfvqP67gyLzyGgrCMn3Wn5q1619E2` con chiave pubblica `04a3416d390421f720c4973aaa3f1cf01de64716bee6169e6400747d14e83addedeb5a6238d15b2b27723da4de86e6c5acf8372d5bde3e067e7c31c2ad73a3d38b`;\n- `1Andre` - `1AndreDku5wRE184YtiHDUZesdrYdnXxJW` con chiave pubblica `0496b23db8920dbec7588193f3e0302ceae174fa0a3b6359a7c95b47f51760551d194ccad7d65419cdc234d4e00bf7a7e01f766681801d55c6954fa8da3a96392c`.\n\nDa qui in poi il 12600K ci mette un'ora, quindi usiamo la 3080.\n\n- `1Andrea` - `1AndreahknZtqg4VQNKGtmMiTZEdevQJxT` con chiave pubblica `04597416f0050f9c8214170f71a9254ec363f9ab6f42b1171dcabc98727c03558b6652ae08810fcc2585552ff3584e7e3b8c6c72f4b73053ed3a55cd9739eb0fba`;\n- `1AndreaD` - `1AndreaDtr5xwCcmg7LdCATBT9NsYZvM4N` con chiave pubblica `046b60fa39b7e1f159871757ce7658f31c1b3cb6bafd6572b009289925fced9a494e5ca8396c1d728ec2b97ce74abfc4f2c98d764b171f5f715b4621bb9b14f29a`.\n\nDa qui in poi la 3080 ci mette un giorno. Evito. Lui ovviamente ha messo questo come target per avere un altro punto bonus, ma non credo che sforzer√≤ la mia GPU per questa cosa.","x":-12340,"y":3288,"width":759,"height":813,"color":"4"},
		{"id":"0b69dbe40a28e3ed","type":"text","text":"# Parametri per creare un wallet\n\nElectrum propone diverse tipologie di wallet:\n\n- ***Standard*** - Singola chiave privata generata da una seed phrase di 12 parole. Firmi ed invii transazioni dal tuo computer senza bisogno di altri dispositivi o approvazioni;\n- ***Two-Factor Authentication*** - Un servizio esterno (e.g. TrustedCoin) deve confermare la transazione affinch√© questa parta. Per realizzare questa cosa si generano tre chiavi:\n\t- Due sono in mio possesso, sul computer. Da qui immetto la transazione firmando con una;\n\t- Con un altro mezzo (e.g. mail o app) chiedo al servizio esterno di firmare con un'altra;\n\t- Quando firmo con due chiavi, la transazione √® valida.\n- ***Multi-Signature*** - Ci sono $N$ chiavi e serve firmare con $n\\le N$ per validare una transazione (un po' come in un Secret Sharing).\n\nPoi passiamo alla gestione della chiave privata.\n\n- `Create new seed` - Il programma genera una frase di 12 o 24 parole dalla quale verranno estratte le chiavi. Da salvare preferibilmente su carta, per evitare di esporla a potenziali leak;\n- `I already have a seed` - \"`Ho gi√† creato il wallet, questo √® il mio seed`\". Di norma non salvi quasi mai le chiavi, perch√© dal `seed` posso ricavarne $N$  secondo uno schema iterativo del tipo $\\text{childkey}_i=f(\\text{parentkey}, i)$. Essendo $f$ una funzione di hash, √® quasi impossibile risalire alla $\\text{parentkey}$ a partire dalla $\\text{childkey}$ (quindi neanche alla ***master key*** radice dell'albero);\n- `Use a master key` - Come prima, ma saltando il passaggio del `seed` e dando direttamente la $\\text{masterkey}$ radice dell'albero di derivazione. Visto che ci sono due alberi diversi per le chiavi pubbliche e quelle private, posso dare solo la prima (e usare il wallet in sola lettura) o solo la seconda (avendo le chiavi private posso anche firmare nuove transazioni);\n- `Use a hardware device` - Posso dedicare un dispositivo *ad hoc*  per contenere il `seed`. Quando Electrum deve firmare una transazione, cerca di comunicare con esso (e.g. Bluetooth, USB) per generare la chiave. Puoi anche fartelo in casa con una chiavetta o un Raspberry, ma √® consigliabile comprarne uno (tipo [questo](https://www.amazon.it/dp/B0FBWTQ8T1/ref=sspa_dk_detail_2?pd_rd_i=B0FBWTQ8T1&pd_rd_w=9f80E&content-id=amzn1.sym.27357f71-bd5d-4a5b-ba8c-4ad04b414c62&pf_rd_p=27357f71-bd5d-4a5b-ba8c-4ad04b414c62&pf_rd_r=HH7NWR4AX4T0CF5W5V3C&pd_rd_wg=J5WSi&pd_rd_r=dcb10739-6cf6-4fd0-a5a3-a4b8e89bf130&sp_csd=d2lkZ2V0TmFtZT1zcF9kZXRhaWw&th=1)) perch√© sono molto pi√π sicuri. Poi ovviamente dipende da cosa devi farci, ma se usi soldi veri non √® una cattiva idea.","x":-11331,"y":2240,"width":759,"height":813,"color":"4"},
		{"id":"968292c8e83a3c50","type":"text","text":"# Task 2 - Bitcoin Transaction\n\nCome da titolo, fai una transazione Bitcoin. Visto che non √® carino usare i soldi veri, esiste una rete di test, che con molta fantasia si chiama ***testnet***. Installiamo [Electrum](https://electrum.org/#download) (gestore di wallet) e lo runniamo con `electrum --testnet`. Scegliamo `Standard Wallet`, e generiamo un nuovo `seed`.\n\nUn paio di cose sulla schermata iniziale:\n\n- Come da schema descritto sopra, ha creato `20 public addresses` e `10 change addresses`. I primi posso usarli per ricevere e inviare, i secondi per auto-darmi il resto dei pagamenti;\n- I `Channels` sono canali privilegiati tra due indirizzi in modalit√† `Lightning`: blocchi una certa quantit√† di `coin` sulla BC e scambi con fee ridotte tra questi due `address`. Non ci interessa.\n\nA questo punto dobbiamo ricevere i `test coin` dagli appositi ***faucet*** per la `testnet`, tipo [1](https://bitcoinfaucet.uo1.net/), [2](https://faucet-btc-testnet.metawire.cloud/), [3](https://testnet.help/en/btcfaucet/testnet), [4](https://coinfaucet.eu/en/btc-testnet/), [5](https://faucet.triangleplatform.com/bitcoin/testnet), ricordando che poi sarebbe anche buona pratica restituirglieli. Ovviamente questa cosa esiste per le `testnet` ma difficilmente per le `mainnet`. Agli inizio ce l'aveva anche `BTC mainnet`, ma con quello che vale ora e con le `fee` altissime non conviene pi√π a nessuno.\n\nDopo aver faticosamente accumulato, procediamo a mandare tutto il ricavato all'indirizzo\n\n- `tb1qzjce5zw7j3ugd0hvcfkm4j4y5ly7sqcjjzql2u`\n\nMando letteralmente tutto, quindi non uso alcun indirizzo di change. ","x":-11331,"y":3288,"width":759,"height":813,"color":"4"},
		{"id":"ba82fe844a79a380","type":"text","text":"# Le `fee` altissime\n\nVisto che i `tBTC` non hanno valore le persone (e i bot) li usano fin troppo, congestionando la rete, che gi√† di suo ha pochi miner. Segue logicamente che le `fee` crescono.\n\nTipo, andando su [blockstream.info](https://blockstream.info/testnet/address/tb1qtpz87jveelhwwj6ft4j8u5twjcgdj5p5rjkv5y) e cercando la prima transazione che mi ha fornito `0.1 mBTC` ci sono `0.16298514 tBTC` di input e due output: il mio indirizzo (con `0.0001 tBTC`) e il resto che il `faucet` si √® ripreso (`0.15713513¬†tBTC`). Somma degli input meno somma degli output fa la `fee`, che quindi ricaviamo essere `0.00575001`: √® $\\sim 57.5$ volte il denaro che ho ricevuto.\n\nPer dare un esempio pratico, se `1 BTC = 100 000 $`, per mandarmi `0.1 mBTC = 10 $` il `faucet` ha speso `575 $` di `fee`. Visto che le `fee` seguono una tariffa \"`per virtual byte`\" (dove il `vbyte` √® una media di byte pesata sul loro significato, nella quale non ci addentriamo) e che nel wallet c'√® la `size` della transazione (`219 vbytes`) possiamo ricavare che il `faucet` ha pagato $\\sim$`0.00002626 tBTC/vbyte`. In genere si esprime in `satoshi` (`sat = 10^-8 BTC`), e qui sarebbe `2626 tsat/vbyte`. √à tanto? ChatGPT dice che di norma si usano sulle decine di `tsat/vbyte`, quindi andiamo su [questo sito](https://mempool.space/it/) per verificare di non aver fatto idiozie.\n\nDa [qui](https://mempool.space/testnet/tx/a09b26b11026a9c28177d751c5640dd3395168051952da58e944607efa8507d9) vediamo che i conti sono giusti, e da [qui](https://mempool.space/testnet/block/0000000000000e6fe0112cdf48b4952815d89303d47b3c9382f8101e38527972) che rispetto a tutte le altre transazioni √® il `faucet` a scegliere di pagare `fee` altissime. Per assicurarsi di darti subito i `coin`? Forse.","x":-11331,"y":4336,"width":759,"height":813,"color":"4"},
		{"id":"c6f920823ae37dad","type":"text","text":"tb1qerzrlxcfu24davlur5sqmgzzgsal6wusda40er","x":-10900,"y":4189,"width":250,"height":60},
		{"id":"4f0a66cffc04f4b7","type":"text","text":"# Protocolli per Liquidity Pool\n\nEsistono diversi modi di implementare una LP, in particolare\n\n- Il primo, nato intorno al 2017 ad opera di ","x":8120,"y":-3486,"width":780,"height":705},
		{"id":"bc8aed2be00fab71","type":"text","text":"Perfetto, qui c'√® una storia affascinante che rivela come le idee buone spesso precedano l'implementazione di successo.\n\n**Il problema originale: gli exchange tradizionali**\n\nPrima di spiegare le liquidity pool, devi capire cosa c'era prima. Gli exchange tradizionali (come Binance, Coinbase, ma anche exchange decentralizzati primitivi come EtherDelta) usavano **order book** - libri degli ordini.\n\nFunziona cos√¨: tu vuoi vendere 10 ETH. Piazzi un ordine \"vendo 10 ETH a 2.000 dollari l'uno\". Questo ordine va nel libro e aspetta che qualcuno arrivi con un ordine di acquisto corrispondente. Se qualcuno vuole comprare 10 ETH a 2.000 dollari (o pi√π), l'ordine viene eseguito. Altrimenti aspetti.\n\nIl problema? Per coppie di token poco popolari (tipo TokenX/TokenY dove TokenX √® un progetto obscuro), non c'√® abbastanza gente che piazza ordini. Il libro √® \"thin\" - vuoto. Se provi a vendere, non trovi compratori. Se provi a comprare, non trovi venditori. Questo √® il problema della **liquidit√† scarsa**.\n\nInoltre, mantenere un order book on-chain su Ethereum √® costosissimo: ogni ordine piazzato, modificato, o cancellato √® una transazione che costa gas. Per progetti piccoli, nessuno vuole pagare 5-10 dollari solo per piazzare un ordine che magari non verr√† mai eseguito.\n\n**L'intuizione: e se non servisse un order book?**\n\nL'idea di automated market maker viene discussa per la prima volta in un blog post di Vitalik Buterin nel 2017. L'intuizione √®: invece di matchare compratori e venditori, creiamo un **pool di token** e usiamo una formula matematica per determinare il prezzo.\n\nBancor lancia il 12 giugno 2017 con la pi√π grande ICO dell'epoca, raccogliendo 153 milioni di dollari. Bancor √® il primo a deployare automated market maker su Ethereum nel 2017, prima ancora che \"DeFi\" fosse un termine usato.\n\n**Come funziona una liquidity pool: l'esempio concreto**\n\nImmagina di voler creare un mercato per scambiare ETH con un token chiamato DAI (stablecoin). Invece di aspettare ordini, fai cos√¨:\n\n1. **Crei un pool** - uno smart contract - e ci depositi, diciamo, 100 ETH e 200.000 DAI. Questo stabilisce il rapporto iniziale: 1 ETH = 2.000 DAI.\n    \n2. **La formula magica: x * y = k** - Il prodotto delle quantit√† dei due token deve rimanere costante. Nel nostro caso: 100 ETH * 200.000 DAI = 20.000.000 = k (la costante).\n    \n3. **Qualcuno vuole comprare ETH** - Bob arriva e vuole comprare 10 ETH. Deposita DAI nel pool. Quanti DAI deve dare? La formula lo decide automaticamente:\n    \n    - Prima: 100 ETH, 200.000 DAI\n    - Bob prende 10 ETH, quindi ora ci sono 90 ETH nel pool\n    - Per mantenere k = 20.000.000, serve: 90 * y = 20.000.000, quindi y = 222.222 DAI\n    - Bob deve aggiungere 222.222 - 200.000 = 22.222 DAI (pagando quindi ~2.222 DAI per ETH, pi√π del prezzo iniziale)\n4. **Il prezzo si aggiusta automaticamente** - Pi√π ETH compri, pi√π costoso diventa (perch√© svuoti il pool di ETH). Pi√π ne vendi, pi√π economico diventa. Non serve nessuno dall'altra parte - il pool √® sempre l√¨.\n    \n\n**Perch√© le liquidity pool non esistevano prima degli smart contracts?**\n\nEsistevano in forma _centralizzata_. Gli exchange come Binance sono essenzialmente pool di liquidit√† giganti gestiti dall'exchange stesso. Ma erano centralizzati - dovevi fidarti dell'exchange.\n\nIl punto cruciale √® che gli smart contracts permettono di creare pool **trustless** (senza fiducia). Il contratto √® immutabile, il codice √® pubblico, nessuno pu√≤ rubare i fondi o manipolare i prezzi arbitrariamente. La formula x*y=k √® garantita matematicamente.\n\nPrima di Ethereum e smart contracts sufficientemente potenti, non potevi avere questa garanzia in modo decentralizzato. Qualcuno doveva gestire il pool, e dovevi fidarti di loro.\n\n**Perch√© Bancor non ha avuto successo (all'inizio)?**\n\nBancor ha visto solo modesta adozione perch√© ogni token era accoppiato con il token nativo di Bancor (BNT). Quindi se volevi scambiare TokenA con TokenB, dovevi passare per BNT: TokenA ‚Üí BNT ‚Üí TokenB. Due swap, due fee, complicato.\n\nInoltre, nel luglio 2018, un attacker ha rubato 25.000 ETH, 2,5 milioni di BNT, e 230 milioni di token NPXS da Bancor. Peggio ancora, il team √® stato in grado di recuperare, congelare o distruggere il BNT rubato - ma questo ha scatenato controversie perch√© significava che Bancor era troppo centralizzato. Se il team pu√≤ \"congelare\" token, allora non √® veramente decentralizzato.\n\n**Uniswap: la versione che funziona**\n\nHayden Adams lancia Uniswap nel novembre 2018, dopo essere stato ispirato da un blog post di Vitalik Buterin. Adams era un ex ingegnere meccanico alla Siemens che si era insegnato da solo blockchain senza esperienza precedente.\n\nLa genialit√† di Uniswap √® la **semplicit√†**:\n\n- Ogni pool accoppia un token con ETH direttamente (ETH/DAI, ETH/UNI, ecc.). Vuoi scambiare DAI con UNI? Vai DAI ‚Üí ETH ‚Üí UNI, ma √® trasparente.\n- Chiunque pu√≤ creare un pool per qualsiasi coppia di token\n- Chiunque pu√≤ diventare **liquidity provider** (LP) - depositi i tuoi token nel pool e guadagni una percentuale delle fee di trading (0.3% per swap)\n- Zero permessi, zero KYC, completamente on-chain\n\nI volumi DEX sono esplosi da 1 miliardo di dollari mensili nel maggio 2020 (quando Uniswap V2 lancia) a 186 miliardi nel dicembre 2021.\n\n**Perch√© non esistevano prima?**\n\nLe liquidity pool richiedono diverse cose che sono arrivate solo nel 2017-2018:\n\n1. **Smart contracts sufficientemente espressivi** - Ethereum nel 2015-2016 era ancora primitivo. Serve capacit√† di gestire pool complessi, calcoli matematici, e interazioni sicure.\n    \n2. **Gas fees gestibili** - Nel 2015, fare operazioni complesse costava troppo. Solo verso il 2017, con ottimizzazioni, diventa fattibile.\n    \n3. **Token standardizzati (ERC-20)** - Serve uno standard comune perch√© i pool possano gestire qualsiasi token. ERC-20 viene finalizzato nel 2015, ma l'ecosistema di token matura solo verso il 2017.\n    \n4. **Massa critica di utenti** - Serve gente che depositi liquidit√† nei pool. Nel 2015-2016, Ethereum aveva pochi utenti. Nel 2017-2018, con l'esplosione delle ICO, c'erano migliaia di token e milioni di utenti.\n    \n5. **Comprensione del concetto** - L'idea di AMM √® controintuitiva. Il mercato doveva \"imparare\" che funzionava. Bancor √® stato il pioniere, Uniswap ha perfezionato il modello.\n    \n\n**La timeline precisa**\n\n- **2017**: Bancor lancia la prima AMM on-chain. Innovazione massiva, ma design difettoso (BNT come intermediario, troppa centralizzazione).\n- **2018**: Uniswap lancia il 2 novembre 2018, semplificando il modello e rendendolo veramente decentralizzato.\n- **2019**: Uniswap cresce lentamente ma costantemente. Altri progetti (MakerDAO per stablecoin, Compound per lending) iniziano a usare Uniswap per liquidit√†.\n- **2020**: DeFi Summer. Il volume medio giornaliero di Uniswap raggiunge 220 milioni di dollari in ottobre 2020.\n\n**In sintesi**\n\nLe liquidity pool sono possibili tecnicamente solo dal 2015 con Ethereum, ma diventano pratiche solo nel 2017-2018 quando l'ecosistema matura. Bancor √® il pioniere che dimostra il concetto, Uniswap √® l'implementazione che raggiunge massa critica. E tutto questo prepara il terreno per BSC: quando Binance lancia BSC a settembre 2020, pu√≤ semplicemente _copiare_ Uniswap (essendo EVM-compatible) creando PancakeSwap - un clone quasi identico ma con fee bassissime e velocit√† maggiore. L'infrastruttura software era gi√† pronta, serviva solo una blockchain pi√π scalabile.","x":9112,"y":-3486,"width":1048,"height":705},
		{"id":"f67f91f5e2629c41","type":"text","text":"Immagina la blockchain come un enorme manuale di istruzioni che tutti i nodi usano per interpretare blocchi e transazioni. La questione ‚Äúsoft vs hard fork‚Äù nasce quando qualcuno vuole cambiare quel manuale.\n\nLa differenza sta tutta nel tipo di ‚Äúnuova grammatica‚Äù che introduci.\n\nParto dalla scena pi√π semplice possibile.\n\n### Una storia concreta, senza tecnicismi iniziali\n\nHai un gruppo di persone che parla un dialetto. Un giorno qualcuno propone una nuova regola:\n\n_‚ÄúDa oggi la parola **ciao** √® lecita ma opzionale.‚Äù_\n\nChi non aggiorna il proprio dialetto continua a capire tutto. Chi lo aggiorna capisce sia il vecchio che il nuovo. √à un tipo di cambiamento compatibile verso il passato.\n\nQuesto √® un **soft fork**.\n\nOra cambia la proposta:\n\n_‚ÄúDa oggi **ciao** √® obbligatorio. Se non la usi, la frase √® non valida.‚Äù_\n\nChi non aggiorna il dialetto all‚Äôimprovviso non riesce pi√π a interpretare certe frasi. Non solo: i due gruppi iniziano a costruire due lingue diverse, incompatibili.\n\nQuesto √® un **hard fork**.\n\n### Portiamo l‚Äôanalogia dentro Bitcoin/Ethereum\n\nLa blockchain √® un sistema distribuito molto suscettibile a queste differenze grammaticali, perch√© basta un piccolo disallineamento per creare **due catene, due verit√†**.\n\n#### Soft fork\n\n√à una modifica che **restringe** le regole.  \nI nodi aggiornati accettano meno cose di prima.  \nI nodi non aggiornati‚Ä¶ non si accorgono di nulla e continuano a vedere tutto come valido.\n\nUn esempio classico √® **SegWit in Bitcoin**:  \naggiunge un nuovo modo di formare le transazioni, ma non richiede ai nodi vecchi di riconoscerlo. Per loro quelle parti extra sono solo ‚Äúdati di cui non capisco bene il senso‚Äù, ma il blocco resta valido.\n\nRisultato: tutta la rete resta unita.\n\n#### Hard fork\n\n√à una modifica che **allarga** le regole.  \nI nodi aggiornati accettano pi√π cose di prima.  \nI nodi non aggiornati‚Ä¶ rifiutano questi blocchi.  \nE da qui nasce la scissione: due blockchain distinte.\n\nEthereum dopo il DAO hack ne √® un esempio perfetto. Chi ha aggiornato ha accettato il ‚Äúrollback‚Äù del furto. Chi non era d‚Äôaccordo ha continuato la catena vecchia ‚Üí **Ethereum Classic**.\n\n### Perch√© basta una ‚Äúbanalit√†‚Äù per dividere la rete?\n\nPerch√© ogni blocco costruisce sul precedente. Se io accetto un blocco e tu no, da l√¨ in poi viviamo in universi tecnicamente separati. Nessuno dei due ha modo di ‚Äútornare indietro‚Äù senza rompere il proprio stato interno.\n\nLa blockchain non perdona nemmeno una virgola di incompatibilit√†.\n\n### Il punto chiave, riassunto in una frase\n\nUn **soft fork** introduce regole pi√π restrittive: i vecchi nodi considerano tutto ancora valido, quindi la rete resta unita.  \nUn **hard fork** introduce regole pi√π permissive: i vecchi nodi rifiutano i nuovi blocchi, quindi la rete si divide.\n\nSe ti interessa, posso anche mostrarti come formalizzare la differenza pensando alla blockchain come un **State Transition System**, dove i soft fork restringono l‚Äôinsieme delle transizioni valide mentre gli hard fork lo ampliano.","x":-16262,"y":-3179,"width":822,"height":1619},
		{"id":"428ab633c035249f","type":"text","text":"task 2\n\n\nattento a scrivere il numero di blocco e non il (come l'ha chiamato? tipo timestamp?) che serve a tracciare la transazione.\n se vai tipo su blockstream.info/testnet/ (credo) e premi su un blocco trovi le singole transazioni che di norma sono da un address verso due (uno √® il vero destinatario, l'altro √® il \"resto\". come sappiamo qual √® il resto? non lo sappiamo (??????)). La fee si calcola come cifra del sender meno somma delle cifre dei destinatari. quel sito da un botto di info, tipo expected value della current fee da pagare per vedere la tua TX accettata.\n***deadline: 2 weeks.*** (november 10)","x":-10180,"y":4336,"width":513,"height":437},
		{"id":"c5e0570766b0419b","type":"text","text":"# SPACING","x":-10572,"y":3288,"width":250,"height":235,"color":"5"},
		{"id":"62496e888409827e","type":"text","text":"","x":-10322,"y":3288,"width":759,"height":813},
		{"id":"22fde4c3c84b5341","type":"text","text":"# Proof of Stake\n\nL'idea √® la seguente: per far parte del meccanismo di consenso, devo consegnare una \"cauzione\" a riprova delle mie buone intenzioni. *Vediamo per esempio un esempio*.\n\n- Da proprietario del nodo `A`, consegno ad un indirizzo speciale (controllato dal protocollo stesso) `100 Coin`. Questa \"cauzione\" prende il nome di ***stake*** ;\n- Il protocollo si ritrover√† diversi nodi che fanno questa cosa. Diciamo che `A` ha messo `100`, `B 200` e `C 50`. Sulla base di questo, il ***proposer*** (i.e. colui che firmer√† il blocco) viene scelto in modo probabilistico. `A` avr√† una probabilit√† di essere estratto pari a `100/250 = 2/5`, e via dicendo. Pi√π stake metto, pi√π probabilit√† ho di essere scelto. Puoi pensarla come una sorta di \"high risk, high reward\": nodi con stake alto hanno pi√π da perdere;\n- In tutto questo, distinguiamo costi e benefici. Perch√© dovrei volere essere un proposer?\n\t- ***Benefici*** - Mi prendo le fee delle transazioni che faccio approvare, nonch√© una sorta di \"`coinbase transaction`\" in stile `Bitcoin` (... non funziona proprio cos√¨, chiamiamola pi√π in generale ***inflazione***);\n\t- ***Costi*** - Se mi comporto male (e.g. double spending, attacchi), il protocollo pu√≤ decidere di trattenere tutta o parte della stake. Questo disincentivo a comportamenti bizantini viene detto ***slashing***.\n- Lo stake resta nell'indirizzo speciale fintantoch√© voglio restare all'interno del protocollo di consenso.\n\t- \"Quindi ritirarlo significa uscirne, giusto?\"... non proprio. Piuttosto, ***uscire dalla lista dei potenziali validator significa che ad un certo punto potrai ritirare il tuo stake***. Se ci pensi, ha senso: prima rinunci al potere, e poi il protocollo ti permette di riprendere la cauzione. Fare al contrario porterebbe a problemi;\n\t- \"Per√≤ posso incrementare e decrementare a piacimento lo stake quando voglio, no?\"... ni. Puoi incrementarlo, ma tipicamente non puoi decrementarlo, sempre per motivi di sicurezza: vieni scelto, e nello stesso blocco fai un grosso decremento e ti comporti in modo bizantino. Il protocollo fa slashing su pochissimo capitale, tu ti sei comportato male e la punizione √® quasi nulla. Se vuoi decrementarlo, prima rinunci al ruolo di validator e poi ti ri-iscrivi con meno stake.\n","x":-16296,"y":1633,"width":759,"height":788,"color":"4"},
		{"id":"02a3aef22819281c","type":"text","text":"Ecco una spiegazione chiara e strutturata di cos'√® un'**Initial Coin Offering (ICO)**, pensata per integrarsi con il contesto del tuo report su Binance.\n\n### Cos'√® una ICO?\n\nL'**Initial Coin Offering (ICO)** √® un metodo di **raccolta fondi** (crowdfunding) utilizzato da aziende o progetti nel settore blockchain per finanziare lo sviluppo della loro piattaforma.\n\nIl concetto √® simile a una **IPO** (Initial Public Offering) nel mercato azionario tradizionale, ma con differenze sostanziali:\n\n- **Nella IPO (Borsa):** L'investitore compra **azioni** (_shares_), diventando proprietario di una quota della societ√† e acquisendo diritti (dividendi, voto).\n    \n- **Nella ICO (Crypto):** L'investitore compra **token**. Questi token solitamente _non_ rappresentano quote della societ√†, ma offrono un'utilit√† futura (es. pagare le commissioni sulla piattaforma che verr√† costruita) o sono puramente speculativi.\n    \n\n### Come funziona tecnicamente (Il ciclo di vita)\n\n1. **L'Idea e il Whitepaper:** Il team di sviluppatori pubblica un documento tecnico (il _Whitepaper_) dove spiega: \"Vogliamo costruire questo progetto, ci servono X milioni di dollari. Ecco come funzioner√† la tecnologia e a cosa servir√† il token\".\n    \n2. **Creazione del Token:** Il team crea uno Smart Contract (solitamente su Ethereum, standard ERC-20) che gestisce la creazione e la distribuzione dei token.\n    \n3. **La Raccolta (Crowdsale):** Viene aperta la vendita. Gli utenti inviano criptovalute \"pregiate\" e gi√† liquide (solitamente **ETH** o **BTC**) all'indirizzo del progetto.\n    \n4. **Distribuzione:** In cambio, lo Smart Contract invia automaticamente al wallet dell'utente i nuovi token del progetto, secondo un tasso di cambio stabilito (es. 1 ETH = 10.000 NuoviToken).\n    \n5. **Listing:** Una volta finita la raccolta, il token viene listato sugli exchange (come Binance o Uniswap) e il mercato inizia a determinarne il prezzo tramite domanda e offerta.\n    \n\n### Perch√© √® importante per il tuo report su Binance?\n\nBinance √® l'esempio \"da manuale\" di una ICO di successo. √à fondamentale per capire la genesi della chain.\n\n- **Luglio 2017:** Changpeng Zhao (CZ) pubblica il Whitepaper di Binance.\n    \n- **La promessa:** \"Costruiremo l'exchange di criptovalute pi√π veloce al mondo\".\n    \n- **Il Token (BNB):** Agli investitori veniva venduto il token **Binance Coin** (allora ERC-20 su Ethereum).\n    \n- **L'Utilit√†:** \"Se usate BNB per pagare le commissioni di trading sul nostro exchange, avrete uno sconto del 50%\". Questa _utility_ ha creato la domanda per il token.\n    \n- **Il Risultato:** Hanno raccolto circa **15 milioni di dollari** in due settimane. Quei soldi sono stati usati per assumere sviluppatori, comprare server e marketing.\n    \n\n### Rischi e Problemi (Contesto Storico)\n\nNel tuo report hai citato l'ascesa degli Smart Contract e la congestione di Ethereum. Le ICO sono state il motore principale di quella congestione nel **2017-2018 (The ICO Mania)**.\n\nPoich√© chiunque poteva creare un token ERC-20 in 10 minuti e raccogliere milioni senza controlli (a differenza delle IPO che sono super-regolamentate):\n\n1. **Truffe (Exit Scams):** Molti progetti raccoglievano ETH e sparivano senza costruire nulla.\n    \n2. **Bolle speculative:** La gente comprava qualsiasi cosa sperando in un \"x100\" al listing.\n    \n3. **Congestione:** Le chain (come Ethereum) si intasavano durante le ICO pi√π attese perch√© migliaia di utenti cercavano di inviare fondi nello stesso istante.\n    \n\n### Sintesi per il Report\n\nSe dovessi definirla in una riga nel tuo lavoro:\n\n> _\"An unregulated fundraising mechanism where a project sells its underlying crypto tokens in exchange for immediate investment capital (usually ETH or BTC), often utilized to bootstrap network liquidity and development costs.\"_","x":-17965,"y":2240,"width":1035,"height":1792},
		{"id":"200a0a35b8171b4c","type":"text","text":"# Coin & Transazioni (TX)\n\nImmaginiamo di essere in possesso di `1 BTC` sull'`address` `0xABADCAFE`, di ricevere `1 BTC` sullo stesso indirizzo e di dover pagare `1.5 BTC` a `0xDEADBEEF`.\n\n- Anzitutto, il `BTC` che riceviamo ***non si unisce a quello precedente***. Certo, la mia disponibilit√† totale sar√† di `2 BTC`, ma quei due oggetti da `1 BTC` restano due entit√† separate (un po' come avere due monete da `1‚Ç¨`). Queste entit√† prendono il nome di ***Unspent Transaction Outputs*** (***UTXO***), e vengono create come risultato di una transazione;\n- In virt√π di quello che abbiamo detto, non possiamo fare una cosa tipo \"prendo il primo `BTC` e met√† del secondo\", n√© \"dal mio portafoglio che conta `2 BTC` scalo `1.5 BTC`\". Piuttosto, nella TX dar√≤ come input entrambe le \"monete\" (UTXO) di cui sono in possesso. Quindi:\n\t- La transazione \"fonde\" tutti gli UTXO di input formando una disponibilit√† complessiva;\n\t- \"Devo pagare `1.5 BTC`\" viene tradotto come \"creo un nuovo UTXO del valore di `1.5 BTC` e ne certifico la propriet√† di `0xDEADBEEF`\";\n\t- Avanzano `0.5 BTC`. Anche qui, viene creato un nuovo UTXO dal valore di `0.5 BTC` e viene indirizzato al mio `change address` (un indirizzo speciale dedicato a questo). O meglio, questo succede in assenza di `fees`. Verosimilmente dovr√≤ invogliare il miner a far approvare questa TX, quindi √® pi√π probabile che di questi `0.5 BTC` ne vadano `0.3` al miner e solo `0.2` al mio `change address`.\n- Tutto questo funziona solo se sono in grado di autenticare gli input con la mia chiave privata, i.e. se sono in grado di dimostrare di essere l'entit√† autorizzata a spendere quegli UTXO;\n- A transazione approvata (i.e. registrata all'interno di un blocco sulla BC), `0xDEADBEEF` si ritrova con una \"moneta\" (UTXO) da `1.5 BTC`, e il mio `change address` ne avr√† una da `0.2 BTC`.\n\nOgni TX pu√≤ essere scritta come `[INPUT] [OUTPUT] [TX_ID]`, dove\n\n- `INPUT` √® la lista delle `N` sorgenti da cui prendo i fondi. Ogni elemento di questa lista si scrive come `TX_ID(indice_output_TX)[valore]` (i.e. individuo la TX, che per√≤ ha `M` output, quindi devo specificare quale voglio e quanto vale). Perch√© la TX sia valida, chi la ordina deve essere in grado di firmare ogni elemento della lista di input, pi√π le cose scritte nel riquadro ***Validity***;\n- `OUTPUT` - Simile a prima, lista di `M` indirizzi ai quali cedo BTC nella forma `address[value]`;\n- `TX_ID` - Autoesplicativo.\n\nLa `fee`  √® calcolata automaticamente come $\\sum$`INPUT` $-\\sum$`OUTPUT`: ***il sistema non d√† il resto in automatico***, chi ordina la TX se lo deve auto-assegnare . Ci√≤ che avanza diventa la fee.\n\nSeguono FAQ.\n\n- \"Mi disturba avere un sacco di micro monete da `0.0000001 BTC` ciascuna, posso unificarle in una singola moneta?\" - Certo signor ossessivo compulsivo, se sei disposto a pagare una `fee` per la tua sanit√† mentale puoi auto-indirizzarti le transazioni, non c'√® nulla che lo vieti;\n- \"Posso prendere UTXO da diversi account per formare l'input?\" - Certo, fintantoch√© hai le chiavi di tutti questi account per firmare la transazione;\n- \"E la `coinbase transaction`?\" - Ha come `input address 0x00000000`, come `indice_output 0xFFFFFFFF` e come output l'indirizzo del miner.","x":-12136,"y":-635,"width":759,"height":1120,"color":"4"},
		{"id":"292e05f4eedbd7df","type":"text","text":"# Proof of Authority (Gemini)\n\nSe nella PoW \"comando perch√© fatico\" (energia) e nella PoS \"comando perch√© sono ricco\" (stake), nella PoA **\"comando perch√© sono io\"** (identit√†).\n\nL'idea √® la seguente:\n\n- **Identit√† al posto dei soldi:** Non devo bloccare 100 Coin come cauzione. Devo rivelare pubblicamente la mia identit√† reale (es. \"Sono l'azienda X\", \"Sono l'Universit√† Y\"). La mia \"stake\" √® la mia **reputazione nel mondo reale**.\n- **Numero chiuso:** Non chiunque pu√≤ svegliarsi e fare il miner. I validatori sono un \"club ristretto\" (una lista approvata).\n- **Come funziona il consenso:**\n    - I nodi validatori sono pochi (es. 20-50).\n    - A turno (spesso in modo deterministico, tipo Round Robin: \"Tocca a te, poi a te, poi a me\"), un validatore propone il blocco e gli altri lo firmano.\n    - Essendo pochi e conosciuti, non servono calcoli complessi. Il consenso √® istantaneo.\n- **Incentivi (Perch√© comportarsi bene?):**\n     - **Benefici:** Mantengo la rete veloce e usabile (spesso la PoA si usa in chain private o aziendali dove l'interesse √® che il sistema funzioni).\n    - **Costi (Slashing Sociale):** Se provo a truffare la rete, la prova crittografica della mia truffa √® legata alla mia identit√† pubblica. Tutti sanno che l'azienda X ha truffato. Il danno d'immagine (e legale) √® infinitamente superiore al guadagno del furto. Perdo la faccia e vengo cacciato dal consorzio.\n\n","x":-15287,"y":1633,"width":759,"height":788,"color":"5"},
		{"id":"cf79141c401ed7a2","type":"text","text":"# PoSA\n\n\n\nTra le varianti pi√π note troviamo\n\n- ***Proof of Stacked Authority***  (***PoSA***) - Se nella Proof of Authority ci sono semplicemente dei nodi \"d'√©lite\" che approvano i blocchi, in PoSA c'√® una pool di nodi \"d'√©lite\" dalla quale si pescano un `tot` di validatori secondo le sopracitate regole del PoS;\n\n\n### Risposta ai tuoi dubbi: Da dove viene la \"Reputazione\"?\n\n1. Il concetto di reputazione viene dalla PoA?\n\nS√¨, assolutamente. √à il cuore della PoA.\n\nNella PoA pura, la reputazione √® l'unica cosa che garantisce la sicurezza. Se i validatori fossero anonimi, ruberebbero tutto in un secondo. Devono essere \"Authority\" proprio perch√© hanno una reputazione da difendere.\n\n2. √à un'idea originale di PoSA?\n\nNo, la PoSA (Proof of Staked Authority) ha preso l'idea della reputazione dalla PoA e l'ha \"democratizzata\" (o monetizzata) unendola alla PoS.\n\nEcco la differenza sottile ma fondamentale che devi capire:\n\n- **In PoA Pura (Reputazione Statica):**\n    \n    - _Chi decide?_ Un amministratore centrale o una votazione degli altri validatori.\n        \n    - _Come entro?_ \"Ciao, sono Amazon, mi fate entrare?\" -> \"S√¨, ci fidiamo\".\n        \n    - _Reputazione =_ Brand.\n        \n- **In PoSA di Binance (Reputazione Dinamica/Mercatistica):**\n    \n    - _Chi decide?_ Il mercato (gli utenti che hanno i BNB).\n        \n    - _Come entro?_ \"Ciao, sono il Nodo X. Guardate, sono stato online il 100% del tempo e non ho mai truffato. Votate per me coi vostri soldi!\".\n        \n    - _Reputazione =_ **Performance Storica**.\n        \n\n### Come integrarlo nel tuo meccanismo?\n\nNel tuo report, il passaggio logico deve essere questo:\n\n1. La **PoA** √® velocissima perch√© ha pochi nodi fidati, ma √® troppo centralizzata (chi decide chi entra nel club?).\n    \n2. La **PoS** √® decentralizzata (chiunque paghi entra), ma pu√≤ diventare lenta se i nodi sono troppi.\n    \n3. La **PoSA (Binance)** unisce i due mondi:\n    \n    - Mantiene il **numero chiuso** della PoA (solo 21 nodi) per avere blocchi da 3 secondi.\n        \n    - Usa il meccanismo di **selezione della PoS** (Stake/Deleghe) per decidere chi sono questi 21, evitando che sia Binance stessa a sceglierli a mano.\n        \n\n**Ecco la frase chiave per il tuo testo:**\n\n> _\"La 'reputazione' in PoSA non √® solo un concetto astratto di fiducia (come nella Proof of Authority classica), ma viene quantificata economicamente tramite il meccanismo della Delega. Gli utenti spostano i propri stake verso i nodi che dimostrano affidabilit√† tecnica (reputazione operativa), agendo come un voto di fiducia continuo che determina chi entra nel set attivo dei 21 validatori.\"_\n\n### Sintesi delle differenze per il tuo schema mentale\n\n|**Caratteristica**|**Proof of Stake (PoS)**|**Proof of Authority (PoA)**|**PoSA (Binance)**|\n|---|---|---|---|\n|**Chi valida?**|Chiunque blocchi monete.|Entit√† note scelte a monte.|I Top 21 per quantit√† di monete.|\n|**Sicurezza**|Slashing economico (perdi soldi).|Slashing sociale (perdi la faccia).|**Entrambi** (perdi soldi e reputazione, quindi deleghe).|\n|**Reputazione**|Irrilevante (basta pagare).|Fondamentale (√® la garanzia).|**Strumento per attirare capitale.**|\n\nTi torna? Ora puoi spiegare che la PoSA usa la _struttura_ della PoA (pochi nodi noti) ma il _motore_ della PoS (soldi) per eleggere quei nodi.","x":-15791,"y":2656,"width":759,"height":1120,"color":"5"},
		{"id":"5e23ef52130cf167","type":"text","text":"# SPACING","x":-14528,"y":2620,"width":250,"height":235,"color":"5"},
		{"id":"13c7222787a94ad0","x":-16661,"y":3828,"width":881,"height":2106,"type":"text","text":"The dual chain architecture slightly changed over the years.\nIn 2022 a rebranding operation renamed the whole ecosystem as BNB (Build and Build), and modified the roles of the chains as follows:\n\\begin{itemize}\n    \\item Binance Chain became \\textbf{BNB Beacon Chain}, and assumed the Governance role (staking, voting).\n    \\item Binance Smart Chain became \\textbf{BNB Smart Chain} (BSC), dealing with EVM Smart Contracts and BEP standards\\footnote{BNB Evolution Proposals (BEPs) merge the concepts of Ethereum Request for Comments (ERC), dealing with code standards, and Ethereum Improvement Proposals (EIP). Such names follow an historical tradition started with the original Request For Comments (RFC) on the Internet and prosecuted by Bitcoin with Bitcoin Improvement Proposals (BIP).}.\n\\end{itemize}\nAccordingly, the native asset acronym was reinterpreted as \\code{Build and Build}, dropping the reference to \"Binance\"\\footnote{Notably, the word \"Binance\" contains only one \"B\". In fact, \"BNB\" was just a conventional ticker for representing the coin. One might be tempted to speculate that the entire rebranding took place only to justify this final letter.} \\cite{bnb_rebranding_2022}.\nIn late 2023 new modifications were made, namely:\n\\begin{itemize}\n    \\item \\textbf{BNB Greenfield} - A third Layer-1\\footnote{A Layer-1 Blockchain is the base layer responsible for consensus, security, and final settlement. For instance, BNB Smart Chain is the base layer for executing Smart Contracts. It is possible to delegate some of the work to a secondary Blockchain operating on top of the main one. For instance, a Layer-2 Blockchain over BSC could execute some class of Smart Contracts, easing the load on the Layer-1.} chain was added to the existing ecosystem \\cite{greenfield_whitepaper}. BNB Greenfield is a distributed storage Blockchain to save heavy files like media (e.g. NFT assets) or dApp frontend (e.g. PancakeSwap). Here, the innovation is the full cross-chain integration with BSC, allowing Smart Contracts from BSC to directly perform on-chain operations on Greenfield, making it a native programmable storage\\footnote{Since the launch of the InterPlanetary FileSystem protocol in 2015, several projects for distributed data storage emerged. For instance, Arweave is a pay-once store-forever service launched in 2018 \\cite{arweave_yellowpaper}, often used to store NFTs' assets, while Filecoin is a contract-based leasing model that deletes data if payments stop \\cite{filecoin_whitepaper}. In March 2023, the latter launched an FVM (Filecoin Virtual Machine) to introduce Smart Contracts \\cite{fvm_launch}, still it is an isolated environment (it is not immediate to perform operations from, say, Ethereum to Filecoin). Greenfield is the first native integration of such a service.}.\n    \\item \\textbf{opBNB} - To address the scalability limits of BSC for high-frequency applications\\footnote{i.e. huge amounts of small transactions, often caused by gaming.}, the ecosystem introduced a Layer-2 solution based on the Optimism OP Stack \\cite{opbnb_docs}. opBNB leverages Optimistic Rollup technology to offload transaction execution from the BSC, grouping multiple operations into single submissions to the Layer-1. This architecture allows for significantly lower fees and higher throughput (up to 4,000 TPS) while inheriting the security guarantees of the BNB Smart Chain.\n\\end{itemize}\n\nThe last major event in the BNB environment was largely motivated by one of the most dramatic hacks in cryptocurrencies' history.\nIn October 2022, the \\code{BSC Token Hub} (the native bridge connecting the two chains) was exploited.\nBy forging cryptographic proofs, a hacker managed to illicitly mint 2 million BNB (approximately 570 million dollars) directly on the BSC \\cite{bnb_exploit_2022}.\nTo prevent the attacker from liquidating the stolen funds and causing a collapse, the validators coordinated to temporarily halt the entire network.\n\nAs a consequence, in 2024, the community adopted \\textbf{BEP-333} (\"BNB Chain Fusion\") \\cite{bep333_fusion}.\nThis upgrade defined the sunset of the Beacon Chain: all Governance and Staking functionalities were migrated directly onto the BNB Smart Chain, and the legacy chain was officially deprecated and stopped.\n\\textbf{This transition marked a shift towards a simplified on-chain governance model: today, upgrades are proposed via BEPs and voted upon directly by the active Validator Set, while token holders influence the outcome by delegating their voting power (BNB stake) to their preferred validators.}\n\nTo summarize: as of today (December 2025), the active chains of the BNB environment are \\textbf{BSC} (Layer-1 Smart Chain), \\textbf{opBNB} (Layer-2 over BSC for games) and \\textbf{Greenfield} (Layer-1 storage).\n\\textbf{The ecosystem is overseen by the BNB Chain Foundation, a non-profit organization that coordinates development and funds innovation through initiatives like the \"Most Valuable Builder\" (MVB) accelerator program, ensuring continuous growth independent of the original exchange.}"}
	],
	"edges":[
		{"id":"9c09d891967b6e1f","fromNode":"e23ed681df359267","fromSide":"bottom","toNode":"37be4a9f1c9a0573","toSide":"top"},
		{"id":"03edbc01e8f7e44e","fromNode":"e23ed681df359267","fromSide":"bottom","toNode":"bc974bfebe38a31d","toSide":"top"},
		{"id":"a29e41074f09eec2","fromNode":"7e38a9731b069017","fromSide":"top","toNode":"0187f418b12b8a18","toSide":"bottom"},
		{"id":"8e5e3e7086c629c2","fromNode":"7e38a9731b069017","fromSide":"top","toNode":"b0e15795235728f2","toSide":"bottom"},
		{"id":"ec109a77a5c909b8","fromNode":"7e38a9731b069017","fromSide":"top","toNode":"2825d21211592300","toSide":"bottom"},
		{"id":"28a83161ee8a1420","fromNode":"7e38a9731b069017","fromSide":"right","toNode":"b6a85d26a6d762d8","toSide":"left"},
		{"id":"e21de116395bea6a","fromNode":"e23ed681df359267","fromSide":"top","toNode":"7e38a9731b069017","toSide":"bottom"},
		{"id":"e3cc9ca3cfb7f488","fromNode":"0187f418b12b8a18","fromSide":"left","toNode":"66e789f3b5a0ec37","toSide":"right"},
		{"id":"7f018e44677a92cc","fromNode":"e23ed681df359267","fromSide":"top","toNode":"f73c6a4e69389480","toSide":"bottom"},
		{"id":"51420e3b1c786b37","fromNode":"e23ed681df359267","fromSide":"right","toNode":"c0bc01d1e65c717d","toSide":"left"},
		{"id":"379d92bceab89f78","fromNode":"e23ed681df359267","fromSide":"right","toNode":"420c6a87906609da","toSide":"left"},
		{"id":"e5a88b36d318a4b4","fromNode":"c0bc01d1e65c717d","fromSide":"bottom","toNode":"40d21f642132b8a5","toSide":"top"},
		{"id":"9cf4143d05f00343","fromNode":"c0bc01d1e65c717d","fromSide":"top","toNode":"ef073ac9df95dbd1","toSide":"bottom"},
		{"id":"0547737486b5b74d","fromNode":"c0bc01d1e65c717d","fromSide":"left","toNode":"54b251eb5f580875","toSide":"bottom"},
		{"id":"86a655b4dc5c1214","fromNode":"420c6a87906609da","fromSide":"right","toNode":"c0bc01d1e65c717d","toSide":"left","label":"DEX"},
		{"id":"d6b93699d47a0cdb","fromNode":"40d21f642132b8a5","fromSide":"bottom","toNode":"bd58e931f55c72e9","toSide":"top"},
		{"id":"f6b73b9dea669080","fromNode":"40d21f642132b8a5","fromSide":"bottom","toNode":"85fc8a05c99ff340","toSide":"top"},
		{"id":"1a99c65484401585","fromNode":"420c6a87906609da","fromSide":"right","toNode":"40d21f642132b8a5","toSide":"left","label":"DEX"},
		{"id":"af9f49327bdeb417","fromNode":"420c6a87906609da","fromSide":"bottom","toNode":"af09c1c6572f2db1","toSide":"top","label":"CEX"},
		{"id":"d1a719a7b987a4f1","fromNode":"420c6a87906609da","fromSide":"bottom","toNode":"85fc8a05c99ff340","toSide":"top","label":"DEX"},
		{"id":"f823ea86f8eeb34d","fromNode":"b0e15795235728f2","fromSide":"right","toNode":"2825d21211592300","toSide":"left"},
		{"id":"c941baa6d7992c76","fromNode":"ef073ac9df95dbd1","fromSide":"top","toNode":"68b193c5004cfe21","toSide":"bottom"},
		{"id":"d23bba83377ce2f7","fromNode":"ef073ac9df95dbd1","fromSide":"right","toNode":"8689b6a4e7e83f20","toSide":"left"},
		{"id":"f0125982149f4144","fromNode":"bd58e931f55c72e9","fromSide":"bottom","toNode":"8a6b328ab8c2b7cf","toSide":"top"},
		{"id":"4f448f229c1d1805","fromNode":"bd58e931f55c72e9","fromSide":"right","toNode":"ca2750dfcadcc2cb","toSide":"top"},
		{"id":"f4b1a8c5eac4412d","fromNode":"8a6b328ab8c2b7cf","fromSide":"right","toNode":"ca2750dfcadcc2cb","toSide":"left"},
		{"id":"a8736eb024c54f3b","fromNode":"8a6b328ab8c2b7cf","fromSide":"bottom","toNode":"32adeffc3526776e","toSide":"top"},
		{"id":"82e5a1821f53de66","fromNode":"8a6b328ab8c2b7cf","fromSide":"bottom","toNode":"313585cc249c3349","toSide":"top"},
		{"id":"1c91256870aeb260","fromNode":"ca2750dfcadcc2cb","fromSide":"bottom","toNode":"32adeffc3526776e","toSide":"top"},
		{"id":"750a76cc4b46fbed","fromNode":"d006bd8a921bcf16","fromSide":"top","toNode":"4e3449fd770ccfb1","toSide":"top"},
		{"id":"fe7b783df9081f79","fromNode":"68b193c5004cfe21","fromSide":"top","toNode":"d006bd8a921bcf16","toSide":"bottom"},
		{"id":"130059f9f4e8ec9c","fromNode":"85fc8a05c99ff340","fromSide":"bottom","toNode":"340205e6a9b86c6e","toSide":"top"},
		{"id":"7a787f3c67ed24ee","fromNode":"54b251eb5f580875","fromSide":"top","toNode":"dcba45b3aa4e8ffc","toSide":"bottom"},
		{"id":"dcd65893ed152d71","fromNode":"af09c1c6572f2db1","fromSide":"bottom","toNode":"cf185f8837214b5e","toSide":"top"},
		{"id":"2872607ec72e4e53","fromNode":"cf185f8837214b5e","fromSide":"bottom","toNode":"962f6c4b3c0be25d","toSide":"top"},
		{"id":"e12e4f9a9101eaad","fromNode":"cf185f8837214b5e","fromSide":"left","toNode":"d1bdc75d4a561ac5","toSide":"right"},
		{"id":"e68438bc3b441bbe","fromNode":"962f6c4b3c0be25d","fromSide":"bottom","toNode":"f25620bcdd9ec501","toSide":"top"},
		{"id":"21322b864022341d","fromNode":"8ae9d77db5d92e7f","fromSide":"right","toNode":"e23ed681df359267","toSide":"left"},
		{"id":"ae3a136b01dcdfd5","fromNode":"87e0f46ba8de8691","fromSide":"top","toNode":"e027f44c3e948552","toSide":"bottom"},
		{"id":"69fe1845b698790d","fromNode":"87e0f46ba8de8691","fromSide":"right","toNode":"ad475259f1ef5f06","toSide":"left"},
		{"id":"6908ece6712d57f7","fromNode":"87e0f46ba8de8691","fromSide":"left","toNode":"49e6eafb2938a493","toSide":"right"},
		{"id":"1d5a6926cee55f5b","fromNode":"87e0f46ba8de8691","fromSide":"bottom","toNode":"fc29e282c8934010","toSide":"top"},
		{"id":"d7f9063a7008b324","fromNode":"e027f44c3e948552","fromSide":"right","toNode":"ac381904b8cd5952","toSide":"left"},
		{"id":"30bf8fefe84d0366","fromNode":"e027f44c3e948552","fromSide":"left","toNode":"da2c17bafb6ed3d4","toSide":"right"},
		{"id":"462c2e75d26a7c8d","fromNode":"fc29e282c8934010","fromSide":"bottom","toNode":"ab5bdfb7e15861eb","toSide":"top"},
		{"id":"45f5ef3f4f725c2e","fromNode":"fc29e282c8934010","fromSide":"left","toNode":"2a9b9c170774f579","toSide":"right"},
		{"id":"04f73156ecef5bf3","fromNode":"fc29e282c8934010","fromSide":"right","toNode":"2ecba2716d7cab9c","toSide":"left"},
		{"id":"4260a3a4f6a234a4","fromNode":"2a9b9c170774f579","fromSide":"left","toNode":"8969a303981934a3","toSide":"right"},
		{"id":"d815ddba012fe4f7","fromNode":"ab5bdfb7e15861eb","fromSide":"left","toNode":"4ecf6e84c27eefab","toSide":"right"},
		{"id":"823107dd8cf963cb","fromNode":"ab5bdfb7e15861eb","fromSide":"right","toNode":"ce361acbec560316","toSide":"left"},
		{"id":"d9bc71e27d083270","fromNode":"b1af0172cb6c2dd5","fromSide":"right","toNode":"968292c8e83a3c50","toSide":"left"},
		{"id":"44cd20113d56af6d","fromNode":"4ecf6e84c27eefab","fromSide":"top","toNode":"6c3ba07e993ec188","toSide":"bottom"},
		{"id":"847772f6fe44bd29","fromNode":"8969a303981934a3","fromSide":"left","toNode":"1de20a395d19c219","toSide":"right"},
		{"id":"30584efad5427980","fromNode":"1de20a395d19c219","fromSide":"left","toNode":"abf6c2ebe99219a6","toSide":"right"},
		{"id":"a70546374832272d","fromNode":"6174a42308c05ee3","fromSide":"right","toNode":"da2c17bafb6ed3d4","toSide":"left"},
		{"id":"037733ff9d22139e","fromNode":"abf6c2ebe99219a6","fromSide":"top","toNode":"6174a42308c05ee3","toSide":"bottom"},
		{"id":"905d74e7a8f0cee6","fromNode":"1de20a395d19c219","fromSide":"bottom","toNode":"e2d623b8a580162c","toSide":"top"},
		{"id":"3dbd350fd67379dc","fromNode":"6c3ba07e993ec188","fromSide":"left","toNode":"e2d623b8a580162c","toSide":"right","fromEnd":"arrow"},
		{"id":"b1c12fc1d812b09e","fromNode":"e2d623b8a580162c","fromSide":"left","toNode":"7b9a2f1c22d3ed92","toSide":"right"},
		{"id":"5b0da00f10dead6a","fromNode":"2ecba2716d7cab9c","fromSide":"right","toNode":"6d0a42604e6ee149","toSide":"left"},
		{"id":"7aef45a5038d293c","fromNode":"2a9b9c170774f579","fromSide":"bottom","toNode":"16618beda3da0513","toSide":"top"},
		{"id":"22a345804196ec0d","fromNode":"8969a303981934a3","fromSide":"top","toNode":"40e8d3d5bf4aedc3","toSide":"bottom"},
		{"id":"7cdbd0fb25da79bf","fromNode":"968292c8e83a3c50","fromSide":"top","toNode":"0b69dbe40a28e3ed","toSide":"bottom"},
		{"id":"6d73ecf9d19df6f8","fromNode":"968292c8e83a3c50","fromSide":"bottom","toNode":"ba82fe844a79a380","toSide":"top"},
		{"id":"857dd06a1acf436f","fromNode":"4ecf6e84c27eefab","fromSide":"bottom","toNode":"200a0a35b8171b4c","toSide":"top"},
		{"id":"438996466982afb9","fromNode":"ce361acbec560316","fromSide":"top","toNode":"6d0a42604e6ee149","toSide":"bottom"},
		{"id":"972bc357ae7336b9","fromNode":"8969a303981934a3","fromSide":"bottom","toNode":"6c3ba07e993ec188","toSide":"top"},
		{"id":"f97f1494ba65777c","fromNode":"4ecf6e84c27eefab","fromSide":"top","toNode":"c4d82ff3e837b284","toSide":"bottom"},
		{"id":"42b8efb7168d171a","fromNode":"c4d82ff3e837b284","fromSide":"left","toNode":"e2d623b8a580162c","toSide":"right"},
		{"id":"5e982d0928b2e9e9","fromNode":"200a0a35b8171b4c","fromSide":"bottom","toNode":"6bbb08f8cb881a51","toSide":"top"},
		{"id":"4cc1b7c4862aafd9","fromNode":"40d21f642132b8a5","fromSide":"right","toNode":"4f0a66cffc04f4b7","toSide":"left"},
		{"id":"00512290dc8b1ec4","fromNode":"4f0a66cffc04f4b7","fromSide":"right","toNode":"bc8aed2be00fab71","toSide":"left"},
		{"id":"eeafae71810e122b","fromNode":"22fde4c3c84b5341","fromSide":"right","toNode":"292e05f4eedbd7df","toSide":"left"},
		{"id":"cfc540ad07c6ac4e","fromNode":"22fde4c3c84b5341","fromSide":"bottom","toNode":"cf79141c401ed7a2","toSide":"top"},
		{"id":"7455ed3165d4d73a","fromNode":"292e05f4eedbd7df","fromSide":"bottom","toNode":"cf79141c401ed7a2","toSide":"top"}
	]
}