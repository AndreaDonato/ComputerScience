# IPv6\n\nLe prime tre versioni di IP non sono state neanche rilasciate ufficialmente, la quarta ha finito gli indirizzi assegnabili e la quinta è stata un mezzo fallimento. La sesta è uscita bene.\n\nUn indirizzo `IPv6` è un identificativo a `128 bit` ($\\sim 3.4\\cdot 10^{38}$ indirizzi) raggruppati in `8` gruppi da `16 bit` spesso rappresentati con notazione esadecimale (`16 bit`$\\to$ `4 hex`):\n\n```\n2001:0DB8:AAAA:1110:1000:0000:0000:0100\n```\n\nIn pratica ci sono due regole per scrivere meno roba possibile:\n\n- Ometti gli zeri iniziali nei gruppi (i.e. al posto di `0100` puoi scrivere `100`);\n- Comprimi la più lunga sequenza di zeri con doppio `:` (i.e. `1000:0000:0000:0100` diventa `1000::100`, non posso eliminare anche i tre zeri di `1000` perché sono significativi!).\n\t- Se ci sono due sequenze uguali si comprime solo la prima.\n\nCome in `IPv4`, anche qui diversi prefissi sono adibiti a diverse cose, ma stavolta sul serio. La IANA ha diviso la torta degli indirizzi in otto gruppi uguali (`bit` iniziali `000`, `001`, `010`, `011`, ...). `5` di queste fette sono totalmente inutilizzate, le restanti sono:\n\n- Tutto ciò che inizia con i bit `001` (i.e. il primo `hex` del primo gruppo è `2` o `3`, quindi sono tutti gli indirizzi da `2000::/64` a `3fff:ffff:ffff:ffff::/64`) è un ***Global Unicast Address***, e costituiscono quindi un ottavo di tutti i possibili indirizzi;\n\t- Ho scritto in entrambi i casi \"`/64`\" perché `IPv6` divide sempre in modo simmetrico parte di rete e parte di host. La divisione IANA è solo sulla parte rete;\n\t- Il sottogruppo `2001:DB8::/32` è dedicato alla \"***documentazione***\", i.e. ad usi tecnici e accademici. Questi indirizzi non vengono instradati su Internet_v6;\n\t- Il sottogruppo `2002::/16` (***6to4***) era in origine dedicato alla retrocompatibilità con `IPv4`. Vale a dire, prendo un `IPv4` (e.g. `192.88.99.1`) e lo scrivo in esadecimale (e.g. `C058:6301`). L'indirizzo `IPv6` associato a questo `IPv4` è `2001:C058:6301::/48`. Ad oggi non si usa quasi più.\n- La fetta di torta degli `IPv6` che iniziano con `000` è così divisa:\n\t- `::/128` è ***unspecified*** (i.e. `sono ancora in fase di configurazione`);\n\t- `::1` è l'indirizzo di ***loopback***. Solo uno? Sì, non aveva alcun senso avere un'intera rete da $2^{24}$ indirizzi dedicata a questo (quando hanno fatto `IPv4` non avevano idea della direzione in cui si sarebbero sviluppate queste cose, quindi nel dubbio ne hanno riservati un botto. Ad oggi sappiamo che ne basta quasi sempre uno solo);\n\t- `::FFFF:0:0/96` simile a `6to4`, ad oggi non si usa quasi più.\n- La fetta `111` è così divisa:\n\t- `FC00::/7` (i.e. iniziano con `1111111`) sono ***Unique Local Addresses***, i.e. gli indirizzi privati di `IPv4`. In teoria si dividono a loro volta in due gruppi:\n\t\t- `FC00/8`, se vengono allocati da un server centrale (mai implementato);\n\t\t- `FD00/8`, se vengono assegnati in qualsiasi altro modo (è quello che si usa).\n\t- `FE80::/10` (i.e. iniziano con `1111 1110 10`, quindi vanno da `fe80:roba` fino a `febf:roba`) sono ***Link-Local Addresses***, in pratica fanno le veci dei ***MAC***;\n\t\t- Nota che gli indirizzi da `fe00:roba` a `fe7A:roba` non sono assegnati, quindi tendenzialmente riconosci un Link-Local perché inizia per `fe`.\n\t- `FF00::/8` sono indirizzi di ***Multicast***.
